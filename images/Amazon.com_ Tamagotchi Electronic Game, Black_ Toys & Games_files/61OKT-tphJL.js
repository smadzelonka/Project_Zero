(function(y){var u=window.AmazonUIPageJS||window.P,ra=u._namespace||u.attributeErrors,g=ra?ra("DetailPageImageBlockAssets",""):u;g.guardFatal?g.guardFatal(y)(g,window):g.execute(function(){y(g,window)})})(function(y,u,ra){y.register("postMetric",function(){return{postCountMetric:function(g){if("undefined"!==typeof g){var a=u.ue;if(a){var c=a.count(g)||0;a.count(g,c+1)}}},postTimeMetric:function(g,a){if("undefined"!==typeof g&&"undefined"!==typeof a){var c=u.ue;c&&c.count(g,a)}}}});"use strict";y.register("logFailedInteractionMetric",
function(){return{isEnabled:!1}});y.register("postEarlyMetric",function(){return null});"use strict";y.when("jQuery","ImageBlockController","ImageBlockATF","ImageBlockBTF").register("ImageBlock",function(g,a,c,q){g=g.extend(!0,{},c,q);var m=new a(g);y.register("ImageBlockAPI",function(){return m.api});return m});"use strict";y.when("A","jQuery").execute(function(g,a){g.on("a:image:load:landingImage",function(){u.performance&&performance.now&&u.ue&&ue.count&&ue.count("DPLandingImageHighResDownloadTime",
performance.now())});g.loadDynamicImage(a("#landingImage"))});"use strict";y.when("ImageBlockATF","atf").register("ImageBlockAiryLoader",function(g){function a(a){a&&(y.load.js(a),u.performance&&performance.now&&u.ue&&ue.count&&ue.count("DPAiryDownloadStartTime",u.parseInt(performance.now())))}function c(a){a&&y.load.css(a)}var q=g.airyConfig;void 0===q?y.when("ImageBlockBTF").execute(function(g){q=g.airyConfig;a(q.jsUrl);c(q.cssUrl)}):(a(q.jsUrl),c(q.cssUrl))});"use strict";y.when("jQuery","ImageBlockModel",
"ImageBlockView","imageBlockUtils","ImageBlockState").register("ImageBlockController",function(g,a,c,q,m){var k={};return function(t){var e=this;e.dispatch=function(a,c){var e=k[a];q.isDefined(e)&&g.each(e,function(a,k){k.call(u,c)})};e.register=function(a,c){q.isDefined(k[a])||(k[a]=[]);"function"===typeof c&&k[a].push(c)};e.model=new a(t,e);e.view=new c(t,e,e.model);e.api=new m(t,e,e.model);e.init=function(){e.model.init();e.view.init()};e.init()}});"use strict";y.when("A","imageBlockUtils").register("ImageBlockModel",
function(g,a){function c(c,k,e,g,t){a.isDefined(c)&&(F.type=c);a.isDefined(k)&&(F.index=k);a.isDefined(e)&&(F.thumbnailIndex=e);a.isDefined(g)&&(F.variant=g);a.isDefined(t)&&(F.color=t)}function q(a){c("image",0,0,"MAIN",a||e.landingAsinColor||e.defaultColor)}function m(a){a=a.data;C=g.copy(F);c(a.type,a.index,a.thumbnailIndex,a.variant,a.color)}function k(a){m(a);a=g.copy(a);a.data=g.copy(F);n.dispatch("updateView",a)}function t(){C=g.copy(F);q(F.color)}var e,n,F={},C={},H,u;return function(a,c){n=
c;e=a;n.register("updateSelection",k);n.register("updateModel",m);n.register("resetModel",t);this.init=function(){q()};this.getCurrentItem=function(){return g.copy(F)};this.getPreviousItem=function(){return g.copy(C)};this.setCurrentEvent=function(a){H=a};this.getCurrentEvent=function(){return H};this.setImmersiveViewModalInstance=function(a){u=a};this.getImmersiveViewModalInstance=function(){return u};this.updateTitle=function(a){e.title=a}}});"use strict";y.when("ImageBlockBTF","postMetric").execute(function(g,
a){function c(a,c,t,e,q){function F(a){"click"===a.type&&e.postCountMetric("thumbClick");"click"===a.type&&l.overrideAltImageClickAction?r.dispatch("thumbActionClick",a):r.dispatch("updateSelection",a)}function C(a){l.useClickZoom||r.dispatch("imageClick",a)}function H(a){l.useClickZoom||r.dispatch("imageHover",a)}function O(a){r.dispatch("button360Click",a)}function A(c){!t.isDefined(c)||"swatchClick"!==c.type&&"updatedData"!==c.type?(p.update(c),"swatchHover"!==c.type&&x.getPreviousItem().thumbnailIndex!==
c.data.thumbnailIndex&&e.postCountMetric(c.data.type+"ThumbnailSelected"),a.trigger("image-block-thumbnail-selected",c.data)):(p.render(c.data.color,!1,c.onload),c={hasComponents:!0,components:[{name:"mainimage"},{name:"thumbnail"}]},"function"===typeof u.markFeatureRender&&u.markFeatureRender("imageblock",c))}function G(a){r.dispatch("resize",a)}function N(a){t.selectThumbnail(a,E)}function L(){"function"===typeof u.markFeatureInteractive&&u.markFeatureInteractive("imageblock",{hasComponents:!0,
components:[{name:"mainimage",events:["click"],alwaysInteractive:!0}]})}function K(){"function"===typeof u.markFeatureInteractive&&u.markFeatureInteractive("imageblock",{hasComponents:!0,components:[{name:"mainimage",events:["hover"],alwaysInteractive:!0},{name:"thumbnail",events:["click","hover"],alwaysInteractive:!0}]});1===g.useIV?y.when("a-modal").execute(function(){L()}):L();l.disableHoverOnAltImages||a.declarative("thumb-action",["mouseenter","mouseleave"],F);a.declarative("thumb-action",["click"],
F);a.declarative("main-image-click",["click"],C);a.declarative("main-image-click",["mouseenter","mouseleave"],H);a.declarative("button-360-click",["click"],O);a.on("resize",G)}function d(a){var c=a.data,f;c&&"ingress"!==c.type&&"click"===a.type&&(f=a);return f}function z(a){var c=x.getCurrentItem(),f={type:"click"};f.$declarativeParent=a;f.data=c;return f}var p,l,r,x,E;return function(a,e,f){p=this;l=a;r=e;x=f;E=c("#imageBlock #altImages ul");var b=c("#imageBlock .canvas"),h=c("#main-image-container"),
g;p.subViews=[];for(e=0;e<q.length;e++)p.subViews.push(new q[e](a,f,p,r));p.render=function(a,f,d){var e=0;E.find(".item").remove();a=a||x.getCurrentItem().color;c.each(p.subViews,function(c,k){e=k.render(a,e,b,E,h,f,d)||e});var r=E.find(".a-button-selected").closest(".a-declarative");g=z(r)};p.init=function(){E=c("#imageBlock #altImages ul");var a=E.find(".a-button-selected").closest(".a-declarative"),b=a.data("action"),a=a.data(b)||{};a.color=l.landingAsinColor||l.defaultColor;r.dispatch("updateModel",
{data:a});p.render(a.color,!0);l.isDebug&&u.console&&console.log(l);r.register("updateView",A);r.register("selectThumbnail",N);K()};p.update=function(a){c.each(p.subViews,function(c,b){b.update(a)});l.usePeekHover&&("mouseleave"===a.type?r.dispatch("updateSelection",g):"click"===a.type&&(g=d(a)||g))}}}var q=["A","jQuery","imageBlockUtils","postMetric"].concat(g.views);y.when.apply(y,q).register("ImageBlockView",function(){for(var a=arguments[0],k=arguments[1],g=arguments[2],e=arguments[3],q=[],F=
4,C=arguments.length;F<C;F++)q.push(arguments[F]);return c(a,k,g,e,q)})});"use strict";y.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockAltImageView",function(g,a,c,q,m,k,t){function e(b,f,d,h){if(!c.isjQueryObjDefined(b.find(".a-button-selected"))){var k=x.getCurrentItem();if(!h||"chromeless-video"!==k.type||!r.autoplayVideo){h=0;"image"===k.type&&(h=Math.max(C(k.color,k.variant),0));var e=f+h;e>=d&&(h=0,e=f);
f=c.getImageHash(k.color,h,r);-1!==f&&(E.dispatch("updateModel",{data:{index:h,thumbnailIndex:e,variant:f.variant,type:"image"}}),f=b.find(".item").get(e),c.selectGivenThumbnail(a(f),b))}}}function n(b,f,d){f=r.colorImages&&r.colorImages[f];var h=b;c.isDefined(f)&&(a.each(f,function(a,f){b<r.maxAlts&&(c.createThumbnail({type:"image",index:a,thumbnailIndex:b,variant:f.variant},f.thumb,J,"imageThumbnail"),b++)}),k.isEnabled&&t.logAltImgRequestPlacedOnThumbnails(a,k,x),e(J,h,b,d));return b}function F(b,
c){if("image"===b.type){var f=a("#image-canvas-caption #canvasCaption"),d,h=r.staticStrings,k=r.colorImages,e=b.color,p=b.index;c&&r.useIV?d=h.clickToExpand:k[e]&&k[e][p].hiRes&&r.useHoverZoom?(d=r.useHoverZoomIpad?h.touchToZoom:r.useClickZoom?h.clickToZoom:h.rollOverToZoom,r.hoverZoomIndicator&&(d="\x3cimg src\x3d'"+r.staticImages.hoverZoomIcon+"'/\x3e\x26nbsp;"+d)):r.useIV&&(d=h.clickToExpand);f.html(d)}}function C(a,b){return c.getIndexForVariant(a,b,r)}function H(b,d){var h="a-dynamic-image";
if(!r.acEnabled){var k;a.each(b.main,function(a,b){c.isDefined(k)||(k=parseFloat(b[1]/b[0])<=parseFloat(r.holderRatio)?" a-stretch-vertical":" a-stretch-horizontal")});h+=k}var e=c.getMaxDimensionsOfMainImage(b.main,f,r),p=e[0],l=e[1],e=a("\x3cdiv\x3e\x3c/div\x3e"),p={"max-height":p,"max-width":l};e.addClass(h).css(p).attr({"data-old-hires":b.hiRes,"data-a-manual-replacement":"true",onload:d}).data("a-dynamic-image",b.main);return e}function u(a){var b=v.find(".swatchHoverExp");a=H(a);b.find(".imgTagWrapper").html(a);
g.loadImageManually(a);return b}function A(a){var b=f.css("height");null!==b&&a.find(".imgTagWrapper").css("height",b);a.addClass("selected");r.imgTagWrapperClasses&&a.find(".imgTagWrapper").addClass(r.imgTagWrapperClasses)}function G(a,b){if("image"===a.type||"unavailable"===a.type||"lazy-loaded"===a.type){c.isDefined(b)&&m.postCountMetric("mainImageUpdateOnTwisterVariationClick");var f=c.getImageHash(a.color,a.index,r);if(-1===f)return f={data:{index:0,thumbnailIndex:0,variant:"",type:"unavailable"}},
c.lazyLoadingRequired(a,x,r)?K(a,!1,b):(E.dispatch("updateModel",f),c.showUnavailable(a.color)),-1;var d=v.find(".item.itemNo"+a.thumbnailIndex);if(!c.isjQueryObjDefined(d)){var d=a.thumbnailIndex,d=v.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate").addClass("image item itemNo"+d+" maintain-height"),h=H(f,b);d.find(".placeHolder").replaceWith(h);v.find(".list").append(d);g.loadImageManually(h)}A(d);E.dispatch("loadMagnifier");F(a);r.useIV&&c.isDefined(f.hiRes)&&d.css("cursor",
"pointer");a.isUserGenerated&&(d=x.getPreviousItem(),h=a.variant,c.isDefined(h)&&d.thumbnailIndex!==a.thumbnailIndex&&(k.isEnabled&&t.logAltImgRequestServed(k),m.postCountMetric("ImageThumbnailSelectedVariant:"+h),0===h.indexOf("IG")&&(m.postCountMetric("IGImageSelectedVariant:"+h),m.postCountMetric("IGImageSelectedEvent:"+a.interaction))));g.trigger("dp:image-block:update",f)}}function N(a){var b=Math.max(C(a.color,x.getCurrentItem().variant),0),b=c.getImageHash(a.color,b,r);if(-1===b)return c.lazyLoadingRequired(a,
x,r)?c.lazyLoadOnHoverEnabled(r)&&(L(".3",!0),c.spinner(v,!0),g.delay(function(){x.getCurrentEvent().data===a&&K(a,!0)},500)):c.showUnavailable(a.color),-1;var f=u(b);m.postCountMetric("mainImageUpdateOnTwisterVariationHover");A(f);g.trigger("dp:image-block:update",b)}function L(b,c){c?v.css("opacity",b):a("#imageBlock").css("opacity",b)}function K(a,f,k){b=f;h=k;var e=a.color,p=r.colorToAsin[e];if(p&&p.asin){var l={};l.params={asin:p.asin,productGroupID:r.productGroupID,color:e};l.success=function(l){l?
(m.postCountMetric("lazyloadImageBlockOnTwisterUpdateSuccess"),c.ajaxState(p.asin,"success"),r.colorImages[e]=l.colorImage,c.isDefined(r.spin360ColorEnabled)&&(r.spin360ColorEnabled[e]=l.enable360),e===a.color&&(f&&b?(m.postCountMetric("lazyloadImageBlockOnTwisterHoverSuccess"),a===x.getCurrentEvent().data&&(d(a),N(a))):(m.postCountMetric("lazyloadImageBlockOnTwisterClickSuccess"),l={type:"updatedData",data:x.getCurrentItem(),onload:k||h},E.dispatch("updateView",l))),y.register(c.rankedImagesReadyEvent(p.asin))):
(m.postCountMetric("lazyloadImageBlockOnTwisterUpdateFail"),c.ajaxState(p.asin,"fail"))};l.error=function(){m.postCountMetric("lazyloadImageBlockOnTwisterUpdateFail");c.ajaxState(p.asin,"fail")};l.indicator=c.spinner(v);c.ajaxState(p.asin,void 0)&&"fail"!==c.ajaxState(p.asin,void 0)||(f?m.postCountMetric("lazyloadImageBlockOnTwisterHover"):m.postCountMetric("lazyloadImageBlockOnTwisterClick"),L(".3",f),q.load("/gp/product/features/apparel-main-image/ranked-images.html",l),c.ajaxState(p.asin,"sent"));
return r.colorImages&&r.colorImages[e]}}function d(b,f){c.lazyLoadingRequired(b,x,r)||(a("#imageBlock").css("opacity","1"),v.css("opacity","1"),c.spinner(v,!1),v.find("li").removeClass("selected"),a("#image-canvas-caption #canvasCaption").empty(),c.hideUnavailable(),f&&v.find(".list .item").remove())}function z(){var b=v.find(".item .imgTagWrapper"),d=c.getContainerHeight(f,r.holderRatio,r.holderMaxHeight);0<d&&(f.height(d),b.height(d));v.find("img.a-dynamic-image").each(function(){var b=a(this);
b.data("a-manual-replacement")&&g.loadDynamicImage(this);var d=b.data("a-dynamic-image"),d=c.getMaxDimensionsOfMainImage(d,f,r);b.css({"max-height":d[0]+"px","max-width":d[1]+"px"})})}function p(a){F(x.getCurrentItem(),"mouseenter"===a.type)}var l,r,x,E,J,v,f,b,h,B;return function(a,b,h,k){l=this;r=a;x=b;E=k;r.colorImages[r.landingAsinColor]=r.colorImages[r.defaultColor];l.render=function(a,b,h,k,e,p,l){v=h;J=k;f=e;B=n(b,a,p);p||(a=x.getCurrentItem(),c.lazyLoadingRequired(a,x,r)&&E.dispatch("updateModel",
{data:{type:"lazy-loaded"}}));d(x.getCurrentItem(),!p);G(x.getCurrentItem(),l);return B};l.update=function(a){var b=a.data;x.setCurrentEvent(a);"ingress"!==b.type&&d(a.data,!1);"swatchHover"===a.type?b.color===x.getCurrentItem().color?G(x.getCurrentItem()):a.captured||-1===N(b)||(a.captured=!0):"image"===b.type&&(b.interaction=a.type,b.isUserGenerated=!0,"mouseenter"===a.type&&m.postCountMetric("dpcc_imageThumbHovered_"+(b.thumbnailIndex+1)+"_"+B),G(b),r.usePeekHover&&"click"!==a.type||(c.selectGivenThumbnail(a.$declarativeParent,
J),"click"===a.type&&(m.postCountMetric("dpcc_imageThumbClicked_total"),m.postCountMetric("dpcc_imageThumbClicked_"+(b.thumbnailIndex+1)+"_"+B))))};r.overrideAltImageClickAction&&c.addTag("clickEnabledOnAltImages");E.register("imageHover",p);E.register("resize",z)}});"use strict";y.when("A","jQuery","imageBlockUtils","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockMagnifierView",function(g,a,c,q,m,k){function t(a){L?a.css("cursor","url('"+H.staticImages.zoomIn+"'), auto"):
(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in"))}function e(a){var d=a.match(/\._((\w|,|\.)+)_\.(gif|jpg|png)$/i);a={};if(c.isDefined(d))for(var d=d[1].split("_"),k=0;k<d.length;k++){var e=d[k].match(/^([A-Z]+)(\d+(\.\d+)?)$/);c.isDefined(e)&&(a[e[1]]=parseInt(e[2],10))}return a}function n(n,d){function z(){var a;d.useClickZoom?(a=d.offsetInClickZoom,a=[Math.min(1,Math.max(0,I[0]-(A[0]+a))/(A[2]-2*a)),Math.min(1,Math.max(0,I[1]-(A[1]+a))/(A[3]-2*a))]):a=
B&&B.updatePosition();if(a&&h&&h.detailSize){var b=[h.detailSize[0]-h.rect.width,h.detailSize[1]-h.rect.height];g.capabilities.rtl?h.detailImage.get(0).style.right=-(a[0]*b[0])+"px":h.detailImage.get(0).style.left=-(a[0]*b[0])+"px";h.detailImage.get(0).style.top=-(a[1]*b[1])+"px"}}function p(a){return a.offsetParent().hasClass("a-dynamic-image-container")}function l(b){var c=W?b.originalEvent.touches[0]||b.originalEvent.changedTouches[0]:"";I=W?[c.pageX,c.pageY]:[b.pageX,b.pageY];if(g.capabilities.rtl){var f=
a(u).width();I=W?[f-c.pageX,c.pageY]:[f-b.pageX,b.pageY]}}function r(a){W&&a.preventDefault();l(a);d.useClickZoom?a=[A[0],A[1],A[0]+A[2],A[1]+A[3]]:(a=B?B.offset:n.offsetParent().offset(),a=H.acEnabled?[a.left,a.top,f.width()+a.left,f.height()+a.top]:[C[0]+a.left,C[1]+a.top,C[0]+C[2]+a.left,C[1]+C[3]+a.top]);I[0]<a[0]||I[1]<a[1]||I[0]>=a[2]||I[1]>=a[3]||H.acEnabled&&!p(n)?(d.fadeMagnifier?N||(N=!0,ba=setTimeout(function(){x(!0)},500)):d.useClickZoom||x(),D&&(D=!1,clearTimeout(V))):(D||(D=!0,V=setTimeout(function(){q.postCountMetric("dppc_hoverZoomOpened");
m.isEnabled&&k.logHoverZoomRequestServed(m)},1E3)),d.fadeMagnifier&&N&&(N=!1,clearTimeout(ba)),z())}function x(b){b&&v.suppressMagnifier(!0);if(S&&(h&&h.hide(),B&&(B.destroy(),B=null),S=!1,W?(n.unbind("touchmove.magnifier touchstart.magnifier touchend.magnifier"),a(document).trigger("disengaged.magnifier")):a(document).unbind("mousemove.magnifier").trigger("disengaged.magnifier"),F(),b))n.one("click.magnifier touchstart.magnifier",function(a){E(a,!0)})}function E(b,c){c&&v.suppressMagnifier(!1);if(!S&&
!fa&&(0===Y&&(q.postCountMetric("dppc_hoverTime",new Date-(u.ue&&u.ue.t0||0)),Y=1),G[U]||(q.postCountMetric("dppc_hoverMain"),G[U]=1),C=[n.position().left,n.position().top,n.width(),n.height()],U&&(l(b),h?h.refit().show():h=new O,d.useClickZoom||(B=B||new y),A=h.getWindowSize(),z()),S=!0,W?(n.unbind("touchstart.magnifier touchmove.magnifier").bind("touchmove.magnifier",r).bind("touchend.magnifier",x),a(document).trigger("engaged.magnifier")):(H.acEnabled?f.unbind("mousemove.magnifier"):n.unbind("mousemove.magnifier"),
a(document).trigger("engaged.magnifier").bind("mousemove.magnifier",r)),c)){var k=a("#zoomWindow");if(0<k.length)k.one("click.magnifier touchend.magnifier",function(a){x(!0)})}}function F(){d.useHoverZoom&&(W?n.bind("touchstart.magnifier touchmove.magnifier",E):H.acEnabled?p(n)&&f.bind("mousemove.magnifier",E):n.bind("mousemove.magnifier",E))}var v=this,f=n.offsetParent(),b={detailImageUrl:n.attr("data-old-hires"),location:"over",locationElement:n,prelaod:"ready",zIndex:50,offsetInClickZoom:50};d=
a.extend(b,d);d.adjustment=[10,0,-10,0];var h=null,B=null,I=null,C=null,A=null,R={"null":1,"":1,undefined:1},S=!1,fa=!1,U=d.detailImageUrl,W=d.useHoverZoomIpad||0,Y=0,G={},y=function(){function b(a){var c=Math.round(Math.min(n.width(),h.rect.width/a));a=Math.round(Math.min(n.height(),h.rect.height/a));p.css({width:c,height:a});f=[c,a]}var c=this,f=[0,0],k=(h.detailSize&&h.detailSize[0]||5E8)/C[2],e=(h.detailSize&&h.detailSize[1]||5E8)/C[3],k=e>k?e:k;a("#magnifierLens").remove();var p=a("\x3cdiv id\x3d'magnifierLens' /\x3e").css({position:"absolute"});
d.generalImageUrls.zoomLensBackground&&p.css({backgroundImage:"url("+d.generalImageUrls.zoomLensBackground+")"});H.showMagnifierOnHover?t(p):p.css("cursor","pointer");c.updatePosition=function(){var a=[C[2]-f[0],C[3]-f[1]],b=0>=a[0]?.5:Math.max(0,Math.min(1,(I[0]-f[0]/2-C[0]-c.offset.left)/a[0])),d=0>=a[1]?.5:Math.max(0,Math.min(1,(I[1]-f[1]/2-C[1]-c.offset.top)/a[1])),h=C[0]+Math.round(b*a[0]),a=C[1]+Math.round(d*a[1]);p.get(0).style.left=h+"px";p.get(0).style.top=a+"px";return[b,d]};c.destroy=function(){p.remove()};
c.offset=n.offsetParent().offset();b(k);c.updatePosition();p.appendTo(n.parent());h.detailImage[0].complete||h.detailImage.load(function(){var a=h.detailImage.width()/C[2];b(a);c.updatePosition()})};y.preload=function(){v.preload(d.generalImageUrls.lensBackgroundUrl)};var O=function(){function b(){var f={};if("over"===d.location){var f=d.useClickZoom,e={},p=a("#leftCol"),r=a("#centerCol"),g=a("#rightCol"),z=a("#hover-zoom-end"),t=a("#actionPanelContainer"),x=c.isjQueryObjDefined(p)?p.outerHeight():
r.outerHeight();e.top=c.isjQueryObjDefined(p)?p.offset().top:r.offset().top;e.bottom=x+e.top;e.right=c.isjQueryObjDefined(g)?g.offset().left:t.offset().left;e.left=f?0:p.offset().left+p.outerWidth();c.isjQueryObjDefined(z)&&z.offset().top>e.bottom&&(e.bottom=z.offset().top);f=e}else"right"===d.location&&(f=n.offset(),f={left:f.left+n.outerWidth(),top:f.top,right:f.left+n.outerWidth()+400,bottom:f.top+400});d.minHeightElement&&(f.bottom=Math.max(f.bottom,f.top+a(d.minHeightElement).outerHeight()));
f.bottom=Math.min(f.bottom,a(u).scrollTop()+a(u).height());f.left+=k[0];f.top+=k[1];f.right+=k[2];f.bottom+=k[3];f.width=f.right-f.left;f.height=f.bottom-f.top;d.enhancedHoverOverlay&&c.isDefined(u.pageXOffset)&&(e=a(u).width(),f.width=e-f.left+u.pageXOffset-18,f.height-=14);l.css({left:f.left,top:f.top,width:f.width,height:f.height});h.rect=f;return h}function f(a){var b=new Image;h.detailSize=[0,0];b.onload=function(){h.detailSize=[b.width,b.height];z()};b.src=a.attr("src");if(0<b.width&&0<b.height)h.detailSize=
[b.width,b.height];else if(d.detailImageSize)h.detailSize=d.detailImageSize;else{a=e(b.src);var c=C[2]/C[3];a.SS||a.AA?(a=a.SS||a.AA,h.detailSize=[a,a]):a.SX?h.detailSize=[a.SX,Math.round(a.SX/c)]:a.SY?h.detailSize=[Math.round(a.SY*c),a.SY]:a.SL&&(h.detailSize=1<=c?[a.SL,Math.round(a.SL/c)]:[Math.round(a.SL*c),a.SL])}}var h=this,k=d.adjustment;a("#zoomWindow").remove();var p={overflow:"hidden",position:"absolute",backgroundColor:"white",zIndex:d.zIndex};d.enhancedHoverOverlay&&(p.boxShadow="0 6px 8px 2px rgba(0,0,0,.25)",
p.border="1px solid #949494",p.borderColor="rgb(148,148,148)");var l=a("\x3cdiv id\x3d'zoomWindow' /\x3e").css(p);d.fadeMagnifier&&l.fadeIn(200);d.useClickZoom&&(L?l.css("cursor",'url("'+d.zoomOutIcon+'"), auto'):(l.css("cursor","-webkit-zoom-out"),l.css("cursor","-moz-zoom-out"),l.css("cursor","zoom-out")));h.updateImage=function(b){b=a("\x3cimg id\x3d'detailImg' src\x3d'"+b+"'/\x3e").css("position","absolute");h.detailImage&&h.detailImage.remove();l.append(b);a(document).trigger("updated.magnifier");
h.detailImage=b;f(h.detailImage)};h.refit=function(){b();f(h.detailImage);return h};d.fadeMagnifier?(h.show=function(){l.fadeIn(200);return h},h.hide=function(){l.fadeOut(200);return h}):(h.show=function(){l.show();return h},h.hide=function(){l.hide();return h});h.destroy=function(){l.remove();return h};h.getWindowSize=function(){return[h.rect.left,h.rect.top,h.rect.width,h.rect.height]};h.updateImage(U);b();l.appendTo(document.body)},N=!1,ba,D=!1,V;v.preload=function(b){b=a.makeArray(b);for(var f=
b.length,c=0;c<f;c++)b[c]instanceof Array?v.preload(b[c]):"string"===typeof b[c]&&b[c]&&!R[b[c]]&&(R[b[c]]=new Image,R[b[c]].src=b[c])};v.changeImage=function(b,f){S&&x();U=f;n.attr("src",b);v.preload(b);C=[n.position().left,n.position().top,n.width(),n.height()];f&&("immediately"===d.preload?v.preload(f,!0):a(u).ready(function(){v.preload(f)}),h?h.updateImage(f):n.attr("data-old-hires",f))};v.destroy=function(){H.acEnabled?f.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier"):
n.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier");a(document).unbind("mousemove.magnifier");B&&B.destroy();B=null;h&&h.destroy();h=null};v.detailImage=function(){return h.detailImage};v.suppressMagnifier=function(a){fa=a};v.isEngaged=function(){return S};v.engageMagnifier=E;v.disengageMagnifier=x;n[0].complete?F():n.one("load",F);v.preload(n.attr("src"));u.performance&&performance.now&&u.ue&&ue.count&&ue.count("MagnifierImageDownload",performance.now());if(d.preload){var ka=
d.detailImageUrl,b=function(){v.preload(ka,!0);d.useClickZoom||y.preload()},X=d.preload;X.constructor!==Array&&(X=[X]);for(var w=0;w<X.length;w++)if("immediately"===X[w])b();else if(a(u)[X[w]])a(u)[X[w]](b);else a(u).bind(X[w],b)}return v}function F(){if(H.useHoverZoom){var e={adjustment:[0,0,1,1],generalImageUrls:H.staticImages,location:"over",minHeightElement:"#imageBlock",preload:"ready",zIndex:199,useHoverZoomIpad:H.useHoverZoomIpad,useHoverZoom:H.useHoverZoom,useClickZoom:H.useClickZoom,fadeMagnifier:H.fadeMagnifier,
zoomOutIcon:H.staticImages.zoomOutCur,enhancedHoverOverlay:H.enhancedHoverOverlay||H.atfEnhancedHoverOverlay};G&&(G.destroy(),G=void 0);var d=y.find(".image.item.selected img[data-old-hires]").not("[data-old-hires\x3d'']");c.isjQueryObjDefined(d)?H.useClickZoom?(d.one("click.loadmagnifier touchstart.loadmagnifier",function(a){G=new n(d,e);G.engageMagnifier(a,!0)}),L?d.css("cursor",'url("'+H.staticImages.zoomInCur+'"), auto'):(d.css("cursor","-webkit-zoom-in"),d.css("cursor","-moz-zoom-in"),d.css("cursor",
"zoom-in"))):G=new n(d,e):m.isEnabled&&k.logHoverZoomApplicability(a,m)}}var C,H,O,A,G,y,L=navigator.userAgent.match(/msie|trident/i);return function(a,c,e,k){C=this;H=a;O=c;m.refToModel=O;A=k;C.render=function(a,c,d,k,e,p){y=d;G&&(G.destroy(),G=void 0)};C.update=function(a){};A.register("loadMagnifier",F);A.register("resize",F)}});"use strict";y.when("A","jQuery","imageBlockUtils","postMetric").register("ImageBlockTwisterView",function(g,a,c,q){function m(a,k,g){a=(a=g?g:c.getColorFromState(k.getState().hovered_variations,
e))&&""!==a?a:e.defaultColor;F.dispatch("updateView",{type:"swatchHover",data:{color:a}});q.postCountMetric("swatchHover")}function k(a,k,g,t){a=(a=t?t:c.getColorFromState(k.getState().selected_variations,e))&&""!==a?a:e.defaultColor;a===n.getCurrentItem().color?"function"===typeof g&&g():(F.dispatch("updateSelection",{type:"swatchClick",data:{color:a},onload:function(){var a={hasComponents:!0,components:[{name:"mainImage"}]};"function"===typeof u.markFeatureRender&&u.markFeatureRender("imageblock",
a);g()}}),q.postCountMetric("swatchClick"))}var t,e,n,F;return function(a,c,q,A){t=this;e=a;n=c;F=A;g.on("image-block-twister-swatch-hover",m);g.on("image-block-twister-swatch-click",k);t.render=function(a,c,k,e,d){};t.update=function(a){}}});"use strict";y.when("A","jQuery","Airy","imageBlockUtils","ImageBlockLoader","postMetric","vse_ns_videoPlayer").register("ImageBlockVideoView",function(g,a,c,q,m,k,t){function e(b,f,c,h){!d.autoplayVideo||P||d.useChromelessVideoPlayer?!q.isjQueryObjDefined(b.find(".a-button-selected"))&&
(c=z.getCurrentItem(),!h||d.prioritizeVideos||"chromeless-video"===c.type&&d.autoplayVideo)&&(h=q.getVideoHash(c.color,0,d),-1!==h&&(f+=0,p.dispatch("updateModel",{data:{index:0,thumbnailIndex:f,variant:h.variant,type:d.useChromelessVideoPlayer?"chromeless-video":"chromeful-video"}}),f=b.find(".item").get(f),q.selectGivenThumbnail(a(f),b))):(q.selectGivenThumbnail(b.find("img:last"),b),q.fadeToThumbnail(b.find("img").length-1,E,b))}function n(a){var b=z.getCurrentItem().color;if(d.useChildVideos&&
!d.colorToVideo[b]){var f=function(){if(a){d.colorToVideo[b]=a;var f={type:"updatedData",data:z.getCurrentItem()};p.dispatch("updateView",f)}};d.lazyLoadExperienceDisabled?f():y.when(q.rankedImagesReadyEvent(d.colorToAsin[b].asin)).execute(function(){f()})}}function F(a){if(!d.useChildVideos)return q.lazyLoadingRequired(z.getCurrentItem(),z,d)?void 0:d.videos;if(d.colorToVideo[a])return d.colorToVideo[a];var b=d.colorToAsin[a];if(b&&b.asin){var f={};f.params={asin:b.asin,productGroupID:d.productGroupID,
useAiryVideoPlayer:!0,useChromelessVideoPlayer:d.useChromelessVideoPlayer,isUDP:d.isUDP};d.isDPXFeatureEnabled||(f.success=function(a){n(a)},m.load("/gp/product/features/apparel-main-image/videos.html",f));return d.colorToVideo&&d.colorToVideo[a]}}function C(){p.dispatch("selectThumbnail",q.useTabbedImmersiveView(d)?1:0)}function H(b,f,h,d){return c.embed({isShowFirstFrameWhenReadyEnabled:!0,parentElement:b[0],streamingUrls:f.url,swfUrl:h.swfUrl,foresterMetadataParams:h.foresterMetadataParams,backgroundColor:"transparent",
flashParams:{wmode:"transparent"},experiments:{supportChromelessPlayback:!0},bindings:{canplay:function(){var a=q.isjQueryObjDefined(b.find("video"))?"HTML5":"FLASH";k.postCountMetric("dppc_chromelessVideo:"+a)},playing:function(){b.parent().css("z-index",8)},videounsupported:function(){C();k.postCountMetric("dppc_chromelessVideo:VIDEO_UNSUPPORTED")},error:function(){C();k.postCountMetric("dppc_chromelessVideo:ERROR")},ended:function(){v.seek(0)}},cuePoints:[{values:f.durationSeconds-1,type:"position",
callback:function(f,c,h){f=h.durationSeconds-h.playheadTimeSeconds;b.parent().css("background-color","white").find(".airy-renderer-container").fadeTo(1E3*f,.1,function(){b.parent().css({"background-color":"transparent","z-index":-1});C();a(this).show().css("opacity",1)})}}]})}function u(c){if("chromeful-video"===c.type||"chromeless-video"===c.type){var h=q.getVideoHash(c.color,c.index,d);if(-1===h)return-1;if("chromeful-video"===c.type){c=E.width()/E.height();var k=parseInt(h.videoWidth,10),e=parseInt(h.videoHeight,
10);q.updateAspectRatio(c,k,e,r);v?(v.show(),q.loadMediaIntoAiry(v,h,f,d.tabletWeb)):v=d.tabletWeb?B:q.createAiryInstanceForChromeful(r,h,f,null,d.autoplayVideo,E,x,l);b:if(q.useTabbedImmersiveView(d)){if(1<q.getVideosCount(z.getCurrentItem().color,d)){if(q.isDefined(J)){x.show();break b}J=a('\x3ca class\x3d"more-videos"\x3e\x3c/a\x3e').attr("href","#").text(d.staticStrings.watchMoreVideos);x.find("#videoCaption").append(J);g.declarative.create(J,"videoIngressClick",b)}q.playVideoInImmersiveView(d,
z.getCurrentItem().color)&&(g.declarative.create(r,"videoIngressClick",b),r.attr&&r.attr("data-ux-click",""),r.children().css("z-index","-1"),r.css("display","inline-block"))}else x.find("#videoCaption").text(d.staticStrings.playVideo),x.show();h=v;d.autoplayVideo&&h&&!P&&(q.toggleVideoCaption(x),h.setVolume(0),h.show(),h.play(),P=!0)}else v?(v.show(),q.loadMediaIntoAiry(v,h,f,d.tabletWeb),v.play(),x.show()):(v=H(r,h,f))&&v.play()}}function A(f,c,h){var p=F(c);c=f;q.isDefined(p)&&0<p.length&&d.alwaysIncludeVideo&&
f===d.maxAlts&&(l.find(".item:last").remove(),f--);q.isDefined(p)&&(a.each(p,function(c,h){if(f<d.maxAlts){var e=d.useChromelessVideoPlayer?"chromeless-video":"chromeful-video",g={type:e,index:c,thumbnailIndex:f,variant:h.variant};b={type:"video-ingress",index:c,thumbnailIndex:f,variant:h.variant};q.useTabbedImmersiveView(d)&&("chromeful-video"===e&&(Q+=" videoBlockIngress  videoBlockDarkIngress",h.thumb=h.thumb.replace("_PKmb-play-button-overlay-thumb","")),d.altsOnLeft||(Q+=" a-align-top"));q.createThumbnail(g,
h.thumb,l,Q);if(2===d.dp60VideoPosition){var r=l,g=d.dp60VideoPosition;if(0!==g){var t=r.children(".imageThumbnail"),r=r.children(".videoBlockIngress");t&&r&&t[g-1]&&a(t[g-1]).before(r[0])}}q.useTabbedImmersiveView(d)&&(G(l.find(".videoBlockIngress img"),d.videoIngressATFSlateThumbURL),g=1<p.length?"multiple-videos":"one-video",(t=1<p.length?p.length+" "+d.staticStrings.multipleVideos:d.staticStrings.singleVideo)&&l.find(".videoBlockIngress").append(l.find("#videoCount_template").clone().text(t).attr("id",
"videoCount")).addClass(g));I||(I=!0,k.postCountMetric("chromeless-video"===e?"dppc_chromelessVideoAvailable":"dppc_chromefulVideoAvailable"));f++}if(q.useTabbedImmersiveView(d))return!1}),e(l,c,f,h));return f}function G(a,b){var f=a.attr("src");if(f&&b){a.attr("src",b);var c=new Image;c.onload=function(b){a.attr("src",f)};c.src=f}}function N(a){v&&v.pause();a.data=b;a.clickTimeStamp=a.$event.timeStamp;var f="a"===a.targetTag?"dpcc_videoIngressLink":"dpcc_videoIngressSlate";p.dispatch("imageClick",
a);k.postTimeMetric("dpcc_vse_videoingressclick",a.$event.timeStamp);k.postCountMetric(f)}function L(a){B=a.airy;B.hide=function(){B.pause();g.$("#main-video-container").find(".vse-player-container").hide()};B.show=function(){g.$("#main-video-container").find(".vse-player-container").show();B.play()};B.getMediaSourceInfo=function(){return q.getMediaSourceInfo()}}var K,d,z,p,l,r,x,E,J,v,f,b,h,B,I=!1,P=!1,Q="videoThumbnail";return function(c,e,m,B){K=this;d=c;z=e;p=B;f=d.airyConfig;d.colorToVideo={};
d.colorToVideo[d.landingAsinColor]=d.colorToVideo[d.defaultColor]=d.videos;K.render=function(b,f,c,e,k,p){l=e;r=k.find("#main-video-container");x=r.parent().find("#video-canvas-caption");E=a("#main-image-container");d.useChromelessVideoPlayer||r.addClass("chromeful-container");h=A(f,b,p);u(z.getCurrentItem());q.useTabbedImmersiveView(d)&&g.declarative("videoIngressClick",["click"],N);b=z.getCurrentItem().color;f=q.getVideoHash(b,0,d);-1!==f&&d.tabletWeb&&(b=q.getNilgiriServiceAjaxRequest(d,b,f),t.get(g,
"#main-video-container",b,function(){g.$("#main-video-container").find(".vse-player-container").hide()},function(){g.$("#imageBlock #altImages ul").find("li.videoThumbnail").hide()}));return h};K.update=function(a){var f=a.data;"ingress"!==f.type&&v&&(v.hide(),r.parent().css("z-index",-1),x.hide());if("swatchHover"===a.type)f.color===z.getCurrentItem().color?u(z.getCurrentItem()):a.captured||q.lazyLoadingRequired(f,z,d)&&!q.lazyLoadOnHoverEnabled(d)&&u(z.getCurrentItem());else if("chromeful-video"===
f.type||"chromeless-video"===f.type)"mouseenter"===a.type&&k.postCountMetric("dpcc_videoThumbHovered_"+(f.thumbnailIndex+1)+"_"+h),u(f),d.usePeekHover&&"click"!==a.type||(q.selectGivenThumbnail(a.$declarativeParent,l),"click"===a.type&&q.useTabbedImmersiveView(d)&&(k.postCountMetric("dpcc_videoThumbClicked_"+(f.thumbnailIndex+1)+"_"+h),b.action="videoIngressClick",b.clickTimeStamp=a.$event.timeStamp,b.$event=a.$event,b.$currentTarget=a.$currentTarget,p.dispatch("videoIngressClick",b),k.postTimeMetric("dpcc_vse_videoingressclick",
a.$event.timeStamp)))};if(d.isDPXFeatureEnabled)g.on("triggerVideoAjax",n);g.on("vseAiry",L)}});"use strict";y.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockImmersiveView",function(g,a,c,q,m,k,t,e){function n(a){return a.hiRes||a.large||a.main[a.main.length-1]}function F(){w.find("#ivTitle").click(function(){X.hide()})}function C(){M=Oa?{type:"360-spin"}:V.getCurrentItem()}function H(){var a=
w.find("#ivStage"),b=X.$container.find(".a-popover-wrapper"),f=b.find(".a-popover-inner"),b=b.height()-e.getDimension(f,"padding-top")-e.getDimension(f,"padding-bottom");w.css("height",b);var f=w.find("#ivTitle").outerHeight(!0),c=w.find("#ivVariationSelection").outerHeight(!0),h=w.find("#ivMediaSelection").outerHeight(!0),d=w.find("#ivThumbs"),k=e.getDimension(d,"margin-top")+e.getDimension(d,"margin-bottom");d.css("height",b-f-c-h-k);w.find("#ivLargeImage").css("height",b);a.css("width",w.width()-
e.getDimension(w,"padding-left")-e.getDimension(w,"padding-right")-w.find("#ivThumbColumn").width()-e.getDimension(a,"margin-left")-e.getDimension(a,"margin-right"))}function O(){w.find("#ivMediaSelect").change(function(){var b=a(this).val();"all"===b?(w.find("#ivVideoList").hide(),w.find("#ivThumbs").show(),w.find(".ivThumbVideo").show(),"chromeful-video"===M.type&&w.find("#ivVideo_"+M.index).click()):"images"===b?(w.find("#ivVideoList").hide(),w.find("#ivThumbs").show(),w.find(".ivThumbVideo").hide(),
"chromeful-video"===M.type&&(0===da&&0===Z?w.find("#iv360").click():0===da?w.find("#ivHeroImage_0").click():w.find("#ivImage_0").click())):"videos"===b&&(w.find("#ivVideoList").show(),w.find("#ivThumbs").hide(),"chromeful-video"!==M.type?w.find("#ivVideoList_0").click():w.find("#ivVideoList_"+M.index).click())})}function A(){var a=w.find("#ivStage").find("#ivLargeImage"),b=a.width(),f=a.height(),c=a.find(".fullscreen");c.removeAttr("style");var h=c.width(),d=c.height();0<c.length&&(c[0].naturalWidth&&
(h=c[0].naturalWidth),c[0].naturalHeight&&(d=c[0].naturalHeight));a.css("cursor","auto");var h=0===h?1:h,d=0===d?1:d,k=Math.min(b/h,f/d),e=d*k,p=h*k;1>k?(Pa?a.css("cursor","url('"+D.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in")),za=!0):za=!1;h=Math.min(p,h);d=Math.min(e-20,d);c.css({"margin-top":(f-d)/2,"margin-left":(b-h)/2,height:d,width:h});a.css("visibility","visible");Aa=!1}function G(a){var b=w.find("#ivLargeImage");
b.css("visibility","hidden");b.empty();e.animateStageIn(b);b.append(a);A()}function N(){aa&&aa.pause();w.find("#ivLarge360").css("display","none");w.find("#ivLargeVideo").css("display","none");w.find("#ivLargeImage").css("display","none");r()}function L(b){N();w.find("#ivLargeImage").css("display","block");var f;"hero-image"===b?c.isDefined(ha)&&(f=n(ha[M.index])):c.isDefined(la)&&(f=n(la[M.index]));if(c.isDefined(f)){w.find(".fullscreen").remove();var h=a("\x3cimg\x3e").attr("src",f).addClass("fullscreen"),
d=w.find("#ivLargeImage");e.animateStageOut(d,function(){h.load(function(){G(h)});if(h[0].complete)G(h);else{d.empty();var b=(d.height()-104)/2,f=(d.width()-80)/2;a("\x3cimg\x3e").attr("src",D.staticImages.spinner).css({position:"relative",top:b+"px",left:f+"px"}).appendTo(d)}})}}function K(){var a=parseInt(M.index,10)+1;a>=ma.length||w.find("#ivVideo_"+a).click()}function d(){var a;c.isDefined(ma)&&(a=ma[M.index]);if(c.isDefined(a)){N();var b=w.find("#ivLargeVideo").css("display","block");aa?(aa.isDetached()&&
aa.attach(b[0]),c.loadMediaIntoAiry(aa,a,wa,D.tabletWeb),aa.show()):(aa=c.createAiryInstanceForChromeful(b,a,wa,"ImmersiveView"),wa.enableContinuousPlay&&aa.bind("ended",K));aa.play({isAsync:!0})}}function z(){C();var a;a="hero-image"===M.type?w.find("#ivHeroImage_"+M.index):"image"===M.type?w.find("#ivImage_"+M.index):"chromeful-video"===M.type||"chromeless-video"===M.type?w.find("#ivVideo_"+M.index):"360-spin"===M.type?w.find("#iv360"):c.isDefined(ha)?w.find("#ivHeroImage_"+M.index):w.find("#ivImage_"+
M.index);c.isjQueryObjDefined(a)||(a=w.find("#ivImage_0"));p(a)}function p(a){w.find(".ivThumb").removeClass("selected");a.addClass("selected");a.hasClass("ivThumbVideo")?(M.type="chromeful-video",M.index=a.attr("id").split("_")[1],d()):a.hasClass("ivHeroImage")?(M.type="hero-image",M.index=a.attr("id").split("_")[1],L(M.type)):a.hasClass("iv360Image")?(M.type="360-spin",M.index=0,l()):(M.type="image",M.index=a.attr("id").split("_")[1],L(M.type))}function l(){N();w.find("#ivLarge360").css("display",
"block");f();var a=w.find("#ivLarge360");a.css({opacity:0});setTimeout(function(){a.css({opacity:.4});e.animateStageIn(a)},200);E();m.postCountMetric("dppc_click360");ta=Date.now()}function r(){0<ta&&(x("dppc_duration360",Date.now()-ta),ta=0)}function x(a,b){u.ue&&u.ue.count(a,b)}function E(){if(0<pa){var a=w.find(".iv360Hint");a.removeClass("iv360HintFaded");a.animate({opacity:1},200)}}function J(b,f){if(pa<b.length){var c=a("\x3cimg /\x3e").css({display:"block",width:6*na+"px",height:sa+"px"});
c.hide();f.append(c);c.get(0).onload=function(){f.closest(document.documentElement).length&&(pa++,1===pa&&(E(),0<ta&&x("dppc_loadTime360",Date.now()-ta)),0<Ga&&x("dppc_perSpriteloadTime360",Date.now()-Ga),w.find("#iv360Spinner").hide(),c.show(),xa=5*T.imageLocations[Math.floor(ya/T.imageLocations[0].length)][ya%T.imageLocations[0].length],J(b,f))};c.attr("src",b[pa].replace(/(\._SP)\d+(,)\d+/,"$1"+ua+"$2"+va));Ga=Date.now()}}function v(a){if(c.isDefined(T.spriteWidthSizes)&&0<T.spriteWidthSizes.length){var b=
T.spriteWidthSizes,f=b.length,h=b[0],d=b[f-1];if(a<=h)return h;if(a>d)return d;for(h=0;h<f;h++)if(a>b[h]&&a<=b[h+1])return b[h+1]}else return a}function f(){var f=w.find("#ivLarge360");f.children("#image-360-sprites").length||(f.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),f.css({"margin-left":0,"margin-top":0,width:f.parent().width(),height:f.parent().height(),overflow:"hidden",position:"relative","-ms-user-select":"none","-webkit-user-select":"none","-mos-user-select":"none"}),a("\x3cimg\x3e").attr("src",
D.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"block"}).appendTo(f),Ha=!0,b())}function b(){if(c.isDefined(T.spriteURLs)&&c.isDefined(w)&&Ha&&!Ia){var b=w.find("#ivLarge360"),f=a("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",width:"100%",bottom:0,opacity:0,display:"block"});c.isDefined(T.staticImages.hint360)&&a("\x3cimg\x3e").css({"margin-left":"auto","margin-right":"auto",display:"block"}).attr("src",
T.staticImages.hint360).appendTo(f);a("\x3cdiv\x3e").css({"text-align":"center"}).text(D.staticStrings.dragToSpin).appendTo(f);f.appendTo(b);var f=T.imageWidth,d=T.imageHeight,k=b.parent().width(),e=b.parent().height(),p=0,l=0;f/d>k/e?(ua=v(k),va=Math.round(d/f*ua),na=Math.ceil(k),sa=Math.ceil(va/ua*k),l=(e-sa)/2):(va=v(e),ua=Math.round(f/d*va),sa=Math.ceil(e),na=Math.ceil(ua/va*e),p=(k-na)/2);b.css({"margin-left":p,"margin-top":l,width:na+"px",height:sa+"px",overflow:"hidden",position:"relative"});
b.children("#image-360-sprites").css("width",6*na+"px");J(T.spriteURLs,w.find("#image-360-sprites"),0);f=w.find("#ivLarge360");f.bind("mousedown",P);f.bind("touchstart",h);f.bind("touchmove",B);f.bind("touchend",I);a(document).bind("mousemove",Q);a(document).bind("mouseup",R);c.isDefined(D.staticImages.grab)&&b.css("cursor","url('"+D.staticImages.grab+"'), auto");Ia=!0}}function h(a){Ba=!0;Ja=a.originalEvent.targetTouches[0].clientX}function B(a){Ba&&(S(a.originalEvent.targetTouches[0].clientX-Ja),
Ja=a.originalEvent.targetTouches[0].clientX)}function I(a){Ba&&(Ba=!1)}function P(a){Ca=!0;Ka=a.originalEvent.clientX;c.isDefined(D.staticImages.grabbing)&&(a=w.find("#ivLarge360"),a.css("cursor","url('"+D.staticImages.grabbing+"'), auto"),a.parents(".a-declarative").last().css("cursor","url('"+D.staticImages.grabbing+"'), auto"));return!1}function Q(a){Ca&&(S(a.originalEvent.clientX-Ka),Ka=a.originalEvent.clientX)}function R(a){Ca&&(Ca=!1,c.isDefined(D.staticImages.grab)&&(a=w.find("#ivLarge360"),
a.css("cursor","url('"+D.staticImages.grab+"'), auto"),a.parents(".a-declarative").last().css("cursor","auto")))}function S(a){for(a=xa-=a/na*180;0>a;)a+=360;for(;360<a;)a-=360;xa=a;var b;a=360;for(var f=0;f<pa;f++)for(var h=0;h<T.imageLocations[f].length;h++){var d=Math.abs(xa-5*T.imageLocations[f][h]);d<a&&(a=d,b=f*T.imageLocations[0].length+h)}b!==ya&&(a=Math.floor(b/T.imageLocations[0].length),a!==Math.floor(ya/T.imageLocations[0].length)&&(c.isDefined(La)||(La=document.createElement("canvas").getContext("2d")),
f=w.find("#image-360-sprites").children(),La.drawImage(f[a],0,0)),a=w.find(".iv360Hint").not(".iv360HintFaded"),c.isDefined(a)&&(a.addClass("iv360HintFaded"),a.animate({opacity:0},750)));ya=b;a=b%T.imageLocations[0].length*-1*na;b=-1*Math.floor(b/T.imageLocations[0].length)*sa;f=w.find("#ivLarge360").children("#image-360-sprites");f.css("-webkit-transform","translate3d("+a+"px, "+b+"px, 0)");f.css("transform","translate3d("+a+"px, "+b+"px, 0)")}function fa(){w.delegate(".ivThumb","click",function(){var b=
a(this);p(b)});w.delegate(".ivThumbVideoListOuter","click",function(){w.find(".ivThumbVideoListOuter").removeClass("selected");var b=a(this);b.addClass("selected");M.type="chromeful-video";M.index=b.attr("id").split("_")[1];d()})}function U(){aa&&!aa.isDetached()&&(wa.volume=aa.getVolume(),aa.detach(),!document.all||u.atob||document.addEventListener||(aa=null));w.find("#ivLargeImage").empty();r()}function W(a,b){return 0<b?b/2:Math.min(0,Math.max(b,a))}function Y(b){var f=qa.left-(b.pageX-Da[0])*
Ea;g.capabilities.rtl&&(f=qa.left-(a(u).width()-b.pageX-Da[0])*Ea);b=qa.top-(b.pageY-Da[1])*Ea;f=W(f,Fa.left);b=W(b,Fa.top);w.find(".fullscreen").css({left:f,top:b})}function ea(){w.delegate("#ivLargeImage","click",function(a){if(Aa)A();else if(za){w.find(".fullscreen").removeAttr("style");if(za){var b=w.find("#ivLargeImage"),f=b.find(".fullscreen");Pa?b.css("cursor","url('"+D.staticImages.zoomOut+"'), auto"):(b.css("cursor","-webkit-zoom-out"),b.css("cursor","-moz-zoom-out"),b.css("cursor","zoom-out"));
Aa=!0;var c=w.find("#ivLargeImage");Fa.left=c.width()-f.width();Fa.top=c.height()-f.height();var c=b.height()/2,h=b.width()/2;Da=[b.offset().left+h,b.offset().top+c];qa.top=c-f.height()/2;qa.left=h-f.width()/2;f.css({position:"relative",left:qa.left,top:qa.top});Ea=Math.max(f.height()/b.height(),f.width()/b.width())}Y(a)}});w.delegate("#ivLargeImage","mousemove",function(a){Aa&&Y(a)})}function ga(b){if(c.isImmersiveViewEnabled(D,V.getCurrentItem().color))if(Ma){var f=b.$event.originalEvent;f.acknowledge&&
f.acknowledge(b.$currentTarget[0]);Oa=c.isDefined(b)&&"button-360-click"===b.action;k.isEnabled&&t.logImmersiveViewRequestServed(k);m.postCountMetric("dppc_immersiveViewOpened");if(c.isDefined(X))X.show();else{b=a("#auiImmersiveViewDiv");var f=a(u).height()-150,h=a(u).width()-75;X=Ma.create(b,{name:"immersiveView",activate:"onclick",width:h,height:f,popoverLabel:"ImmersiveView",hideHeader:!0});b.click()}if(Na){w=a("#ivMain");b=V.getCurrentItem().color;la=D.colorImages[b];ha=D.heroImage[b];ma=D.useChildVideos?
D.colorToVideo[b]:D.videos;ra=ca()&&D.spin360ColorEnabled[b];T=ca()?D.spin360ColorData[b]:void 0;C();ja=Z=oa=da=0;c.isDefined(ha)&&(Z=ha.length);c.isDefined(la)&&(da=la.length);c.isDefined(ma)&&(oa=ma.length);ra&&(ja=1);e.populateTitle(w.find("#ivTitle"),45,D);e.populateVariationSelection(w.find("#ivVariationSelection"));b=w.find("#ivMediaSelect");0===da+ja||0===oa?(b.parent().hide(),w.find("#ivThumbs").addClass("noMediaSelection")):(b.empty(),a("\x3coption/\x3e").attr("value","all").prop("selected",
!0).text(D.staticStrings.allMedia+" ("+(Z+da+ja+oa)+")").appendTo(b),a("\x3coption/\x3e").attr("value","images").text(D.staticStrings.images+" ("+(Z+da+ja)+")").appendTo(b),a("\x3coption/\x3e").attr("value","videos").text(D.staticStrings.videos+" ("+oa+")").appendTo(b),b.parent().show(),b.val("all"));b=w.find("#ivThumbs");b.find(".ivRow").not(".placeholder").remove();for(var f=Z+da+oa+ja,d=h=0;h<f;)for(var p=b.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(b),l=0;3>l&&h<f;l++,
h++,d++)if(d<Z){var r=ha[h].thumb,z=b.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr("id","ivHeroImage_"+h).appendTo(p);z.find(".ivThumbImage").css("background",'url("'+e.getResizedThumbnailURL(r)+'") center no-repeat')}else if(d>=Z&&d<da+Z)r=la[h-Z].thumb,z=b.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr("id","ivImage_"+(h-Z)).appendTo(p),z.find(".ivThumbImage").css("background",'url("'+e.getResizedThumbnailURL(r)+'") center no-repeat');
else if(d>=Z+da&&d<da+Z+ja)z=b.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("iv360Image").attr("id","iv360").appendTo(p),z.find(".ivThumbImage").css("background",'url("'+(c.isDefined(D.staticImages.icon360)?e.getResizedThumbnailURL(D.staticImages.icon360,!0):"")+'") center no-repeat');else if(r=ma[h-da-Z-ja],z=b.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivThumbVideo").attr("id","ivVideo_"+(h-da-Z-ja)).appendTo(p),z.find(".ivThumbImage").css("background",
'url("'+r.thumbUrl+'") center no-repeat'),c.isDefined(r)){var n={position:"triggerTop"},x=w.find("#ivThumbs").find(".ivThumbVideoPopover.placeholder").clone().removeClass("placeholder");x.find(".ivVideoPopoverTitle").text(r.title);x.find(".ivVideoPopoverDuration").text(r.durationTimestamp);n.inlineContent=x[0];g.declarative.create(z,"a-tooltip",n)}b=w.find("#ivVideoList");b.find(".ivThumbVideoListOuter").not(".placeholder").remove();f=b.find(".placeholder");for(h=0;h<oa;h++)d=ma[h],p=f.clone().removeClass("placeholder").appendTo(b),
p.attr("id","ivVideoList_"+h),p.find(".ivThumbImage").css("background",'url("'+d.thumbUrl+'") center no-repeat'),p.find(".ivThumbTitle").text(d.title),p.find(".ivThumbDuration").text(d.durationTimestamp);w.find("#ivLarge360").empty();pa=0;Ia=Ha=!1;wa=D.airyConfig;Na=!1;Qa()}}else u.performance&&performance.now&&u.ue&&ue.count&&ue.count("DPIBClickFailedInteractionCount",(ue.count("DPIBClickFailedInteractionCount")||0)+1);else m.postCountMetric("immersiveViewNotExistsClickCount")}function ia(a){var f=
D.colorToAsin[a],h={},d=500;if(f&&f.asin){h.params={asin:f.asin};var k="360"+f.asin,e=Date.now();h.success=function(f){x("dppc_asyncRequestTime360",Date.now()-e);f&&c.isDefined(f.spin360.spin360Model)?(c.ajaxState(k,"success"),D.spin360ColorData[a]=f.spin360.spin360Model,a===V.getCurrentItem().color&&(T=D.spin360ColorData[a],b())):h.error()};h.error=function(){m.postCountMetric("dppc_asyncFailed360");x("dppc_asyncRequestTime360",Date.now()-e);d*=2;16E3>=d?setTimeout(function(){e=Date.now();q.load("/gp/product/features/apparel-main-image/360.html",
h)},d):c.ajaxState(k,"fail")};c.ajaxState(k)&&"fail"!==c.ajaxState(k)||(q.load("/gp/product/features/apparel-main-image/360.html",h),c.ajaxState(k,"sent"))}}function ca(){return c.isDefined(D.spin360ConfigEnabled)&&D.spin360ConfigEnabled}var ba,D,V,ka,X,w,ha,la,ma,Z,da,oa,ja,M,aa,wa,T,ra,na,sa,va,ua,Ka,Ja,Oa=!1,Ha=!1,Ia=!1,xa=0,ya=0,ta=0,Ga=0,Ca=!1,Ba=!1,pa=0,La,Pa=navigator.userAgent.match(/msie|trident/i),Na=!0,Aa=!1,za=!1,Fa={},qa={},Ea,Da,Ma;y.when("a-modal").execute(function(a){Ma=a});var Qa=
g.once(function(){O();fa();ea();g.on("a:popover:afterUpdatePosition:immersiveView",H);g.on("a:popover:afterShow:immersiveView",z);g.on("a:popover:afterHide:immersiveView",U);F()});return function(b,f,h,d){ba=this;D=b;V=f;k.refToModel=V;ka=d;ca()&&(D.spin360ColorData[D.landingAsinColor]=D.spin360ColorData[D.defaultColor],D.spin360ColorEnabled[D.landingAsinColor]=D.spin360ColorEnabled[D.defaultColor]);c.isDefined(D.staticImages.icon360)&&a("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",
e.addStyleCodeToURL(D.staticImages.icon360,"_FMpng_RI_"));ba.render=function(a,b,f,h,d,k){Na=!0;ca()&&D.spin360ColorEnabled[a]&&!c.isDefined(D.spin360ColorData[a])&&(D.spin360ColorData[a]={},ia(a));c.isImmersiveViewEnabled(D,V.getCurrentItem().color)&&ca()&&D.spin360ColorEnabled[a]&&(b===D.maxAlts&&(a=h.find(".item.imageThumbnail"),f=h.find(".item.videoThumbnail"),c.isDefined(f)&&1<f.length?f.last().remove():a.last().remove(),b--),a=h.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item"),
g.declarative.create(a,"button-360-click"),h.append(a),b++,m.postCountMetric("dppc_display360"));return b};ba.update=function(a){};c.isImmersiveViewEnabled(D,V.getCurrentItem().color)||c.addTag("immersiveViewNotAvailable");ka.register("imageClick",ga);ka.register("button360Click",ga)}});"use strict";y.when("A","jQuery","imageBlockUtils","postMetric","logFailedInteractionMetric","postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockTabbedImmersiveView",function(g,a,c,q,m,k,t){function e(){var c=
O.getImmersiveViewModalInstance().$container.find(".a-popover-wrapper"),d=c.find(".a-popover-inner"),c=c.height()-t.getDimension(d,"padding-top")-t.getDimension(d,"padding-bottom");a("#iv-tab-view-container").css("height",c);N=a("#iv-tab-view-container ul.iv-tab-views li").filter(function(){return"none"!==a(this).css("display")}).length;1<N?(a("#iv-tab-view-container ul.iv-tab-views li").parent().show(),d=a("#iv-tab-view-container ul.iv-tab-views li").parent().height(),c-=d):a("#iv-tab-view-container ul.iv-tab-views li").parent().hide();
a("#iv-tab-view-container .iv-tab-content").css("height",c);g.trigger("dp:image-block:immersive-view:resize")}function n(){g.trigger("dp:image-block:immersive-view:reset")}function F(e){if(c.isImmersiveViewEnabled(H,O.getCurrentItem().color))if(K){var l=e.$event.originalEvent;l.acknowledge&&l.acknowledge(e.$currentTarget[0]);m.isEnabled&&k.logImmersiveViewRequestServed(m);q.postCountMetric("dppc_immersiveViewOpened");c.isDefined(e)&&("button-360-click"===e.action?a("#iv360TabHeading").click():"videoIngressClick"===
e.action?(L=e.clickTimeStamp,a("#ivVideosTabHeading").click()):"showroomIngressClick"===e.action?(L=e.clickTimeStamp,a("#ivShowroomTabHeading").click()):a("#ivImagesTabHeading").click());l=O.getImmersiveViewModalInstance();if(c.isDefined(l))l.show();else{e=a("#auiImmersiveViewDiv");var l=Math.min(Math.max(a(u).height()-150,540),1080),r=Math.min(Math.max(a(u).width()-75,990),1980),l=K.create(e,{name:"immersiveView",activate:"onclick",width:r,height:l,popoverLabel:"ImmersiveView",hideHeader:!0});O.setImmersiveViewModalInstance(l);
e.click()}G&&(G=!1,d(),g.trigger("dp:image-block:immersive-view:init"))}else u.performance&&performance.now&&u.ue&&ue.count&&ue.count("DPIBClickFailedInteractionCount",(ue.count("DPIBClickFailedInteractionCount")||0)+1);else q.postCountMetric("immersiveViewNotExistsClickCount")}var C,H,O,A,G=!0,N=0,L,K;y.when("a-modal").execute(function(a){K=a});var d=g.once(function(){g.on("a:popover:afterUpdatePosition:immersiveView",e);g.on("a:popover:afterShow:immersiveView",e);g.on("a:popover:afterHide:immersiveView",
n)}),z=g.once(function(){var c=a("#iv-tab-view-container ul.iv-tab-views li");c.bind("click",function(d){var e=c.filter(".iv-active");e.attr("id")!==a(this).attr("id")&&g.trigger("dp:ivTabs:"+e.find("a").attr("data-iv-tab-view")+":deselect",d);c.removeClass("iv-active");a(this).addClass("iv-active");a("#iv-tab-view-container .iv-tab-content").hide();e=a(this).find("a").attr("data-iv-tab-view");a("#"+e).show();"ivVideosTab"===e&&(d.clickTimeStamp=L||d.timeStamp);g.trigger("dp:ivTabs:"+e+":select",
d);q.postCountMetric("dppc_"+e);return!1})});return function(a,d,e,k){C=this;H=a;O=d;m.refToModel=O;A=k;C.render=function(a,c,d,f,b,h){q.postCountMetric("dpcc_altThumbs_"+c);G=!0};C.update=function(a){};C.getTitle=function(){};C.getVariationSelectionInfo=function(){};z();c.isImmersiveViewEnabled(H,O.getCurrentItem().color)||c.addTag("immersiveViewNotAvailable");A.register("imageClick",F);A.register("button360Click",F);c.useTabbedImmersiveView(H)&&(A.register("videoIngressClick",F),A.register("showroomIngressClick",
F))}});"use strict";y.when("A").register("ImageBlockLoader",function(g){return{load:function(a,c){c=c||{};c.timeout=c.timeout||4E3;g.ajax(a,c)}}});"use strict";y.when("A","jQuery","Airy","postMetric","ImageBlockATF","ImageBlockBTF","logFailedInteractionMetric","postEarlyMetric").register("imageBlockUtils",function(g,a,c,q,m,k,t,e){function n(a){return null!==a&&"undefined"!==typeof a}function F(f){var b=0;a.each(f,function(a,f){var c=parseInt(f[1],10);c>b&&(b=c)});return b}function C(f){var b=0;a.each(f,
function(a,f){var c=parseInt(f[0],10);c>b&&(b=c)});return b}function H(a,b,c){b=b.width();if(c.naturalMainImageSize)return b;a=F(a);0<a&&(b=Math.min(b,a));return b}function y(a,b,c){b=b.height();if(c.naturalMainImageSize)return b;a=C(a);0<a&&(b=Math.min(b,a));return b}function A(f){var b;a.each(f,function(a,f){n(b)||(b=f[1]/f[0])});return b||1}function G(a,b,c){b.fadeTo(500,0,function(){L(a,c);b.fadeTo(500,1)})}function N(a){a&&a.toggle()}function L(f,b){var c=b.find("img");n(c[f])&&a(c[f]).click()}
function K(a,b){v[a]=b?b:v[a];return v[a]}function d(f,b,c){c=c||J;c=c.colorImages;if(1>c.length||!n(c[f])||!n(b))return-1;var d=-1;a.each(c[f],function(a,f){f.variant===b&&(d=a)});return d}function z(f,b,c){c=c||J;c=c.colorImages;return!(n(c)&&n(c[f])&&n(c[f][b])&&n(c[f][b].main))||1>a.map(c[f][b].main,function(a,b){return b}).length?-1:c[f][b]}function p(a,b,c,d){d.parent().css("z-index",2);0!==c&&0!==b&&(b/=c,a>b?d.css("width",b/a*100+"%"):d.css("height",a/b*100+"%"))}function l(f,b){var c;if(c=
f.useIV)c=f.colorImages&&f.colorImages[b]&&0<f.colorImages[b].length?!0:!1;t.isEnabled&&(t.IVApplicaple=c,e.logImmersiveViewApplicability(a,t));return c}var r,x,E,J=a.extend(!0,{},m,k),v={};return{isDefined:n,isDefinedAndEmpty:function(a){return n(a)&&"object"===typeof a&&0===Object.keys(a).length},isUndefinedOrEmpty:function(a){return n(a)?"object"===typeof a&&0===Object.keys(a).length:!0},isDefinedAndNotEmpty:function(a){return n(a)?"object"===typeof a&&0<Object.keys(a).length:!1},isjQueryObjDefined:function(a){return 0!==
a.length},getAspectRatio:A,getMaxHeightOfMainImage:y,getMaxWidthOfMainImage:H,getMaxDimensionsOfMainImage:function(a,b,c){if(c.acEnabled)return[b.height(),b.width()];var d=y(a,b,c);b=H(a,b,c);a=A(a);c=b/a;b=Math.min(b,d*a);d=Math.min(d,c);return[d,b]},getContainerHeight:function(a,b,c){var d=a.get(0);a=0;if(n(d)){a=d.offsetWidth/b;a=Math.min(a,c);var e;b=J.mainImageHeightPartitions;c=J.mainImageMaxSizes;if(n(c)&&n(b)){for(var k=0,p=u.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,
d=0;d<b.length;d++)p>b[d]&&(k=d+1);c.length>=k&&(e=c[k])}n(e)&&(a=Math.min(e[1],a))}return a},getColorFromState:function(c,b){if(c){b=b||J;var d="";a.each(b.visualDimensions,function(a,b){c[b]&&(d+=" "+c[b])});return d&&d.substring(1)}},createThumbnail:function(a,b,c,d){var e=c.find(".template").clone().removeClass("template").addClass("item"),k=document.createElement("img");k.src=b;e.find(".placeHolder").replaceWith(k);(b=a.heroVideoVariant)&&"hero-image"===a.type&&a.variant===b&&e.addClass("heroImageThumbnail");
n(d)&&e.addClass(d);g.declarative.create(e,"thumb-action",a);e.attr&&e.attr("data-ux-click","");c.append(e)},selectGivenThumbnail:function(a,b){var c=a.find(".a-button");b.find(".a-button").removeClass("a-button-selected").removeClass("a-button-focus");c.addClass("a-button-selected").addClass("a-button-focus")},createAiryInstanceForChromeful:function(f,b,d,e,k,p,l,g){var z=a.extend({},d.foresterMetadataParams);null!==e&&(z.method+="."+e);var t=[];b.disabledViewIds&&(t=b.disabledViewIds);return c.embed({parentElement:f[0],
streamingUrls:b.url,contentId:b.mediaObjectId,contentMinAge:Number(b.minimumAge||"")||0,contentTitle:b.title,swfUrl:d.swfUrl,foresterMetadataParams:z,backgroundColor:"black",flashParams:{wmode:"transparent"},slateImages:{preloadSlate:b.slateUrl,postMediaSlate:b.slateUrl},videoAds:d.videoAds,bindings:{play:function(){"ImmersiveView"===e?r||(r=!0,q.postCountMetric("dppc_chromefulVideoPlayedIV")):x||(x=!0,q.postCountMetric("dppc_chromefulVideoPlayedPV"))}},cuePoints:[{values:b.durationSeconds-1,type:"position",
callback:function(a,b,c){k&&(G(0,p,g),N(l))}}],disabledViewIds:t})},loadMediaIntoAiry:function(a,b,c,d){a&&a.getMediaSourceInfo()!==b.url&&(d?(E={mediaSourceInfo:[b.url],contentId:b.mediaObjectId,refTag:"vse_ib_tablet_web"},a.loadMedia(E)):a.loadMedia({mediaSourceInfo:b.url,contentId:b.mediaObjectId,contentMinAge:Number(b.minimumAge||"")||0,contentTitle:b.title,slateImages:{preloadSlate:b.slateUrl,postMediaSlate:b.slateUrl}}))},showUnavailable:function(c){c&&(a("#imageBlock .unvailableVariation").html(c),
a("#imageBlock .variationUnavailable").show())},hideUnavailable:function(){a("#imageBlock .variationUnavailable").hide()},fadeToThumbnail:G,toggleVideoCaption:N,selectThumbnail:L,spinner:function(c,b){var d=a("#imageBlock .a-spinner").parent();0===d.length&&(d=a("\x3cdiv\x3e\x3c/div\x3e").append(a("\x3cspan\x3e\x3c/span\x3e").addClass("a-spinner").addClass("a-spinner-medium")),c.append(d),d.css({position:"absolute",left:"50%",top:"50%",transform:"translate3d(-50%, -50%, 0)","-webkit-transform":"translate3d(-50%, -50%, 0)",
"z-index":"3",width:"48px",height:"48px",border:"8px solid #FFFFFF","-webkit-border-radius":"20px","-moz-border-radius":"20px","border-radius":"100%"}));b?d.show():d.hide();return d},rankedImagesReadyEvent:function(a){return"ranked-images-ready-for-"+a},ajaxState:K,getIndexForVariant:d,getImageHash:z,lazyLoadingRequired:function(a,b,c){b=Math.max(d(a.color,b.getCurrentItem().variant,c),0);b=-1!==z(a.color,b,c);a=c.colorToAsin[a.color]&&c.colorToAsin[a.color].asin;a=!a||"success"!==K(a);return!c.lazyLoadExperienceDisabled&&
!b&&a},lazyLoadOnHoverEnabled:function(a){return!a.lazyLoadExperienceOnHoverDisabled},updateAspectRatio:p,repositionVideoBanner:function(a,b,c,d){setTimeout(function(){var c=a.width()/a.height();p(c,16,9,b)},d||0)},getVideosCount:function(a,b){return b.useChildVideos&&b.colorToVideo[a]?b.colorToVideo[a].length:b.videos?b.videos.length:0},getVideoHash:function(a,b,c){if(c.useChildVideos){if(!n(c.colorToVideo))return-1;a=c.colorToVideo[a]}else a=c.videos;return n(a)&&n(a[b])&&n(a[b].url)?a[b]:-1},isImmersiveViewEnabled:l,
playVideoInImmersiveView:function(a,b){return l(a,b)&&a.useTabbedImmersiveView},useTabbedImmersiveView:function(a){return a.useTabbedImmersiveView},getMediaSourceInfo:function(){return n(E)?E.mediaSourceInfo[0]:""},getNilgiriServiceAjaxRequest:function(a,b,c){b=a.colorToAsin[b]&&a.colorToAsin[b].asin;b=n(b)?b:a.mediaAsin;return{pageContext:{page:"DetailPageTablet",placement:"ImageBlock",marketplaceID:c.marketPlaceID,locale:c.languageCode,requestId:a.requestId,product:{contentID:b,contentIDType:"ASIN"},
video:{contentID:c.mediaObjectId,contentIDType:"ASIN",imageURL:c.slateUrl,videoURL:c.url}},configuration:{id:"div-light-player",type:"lightplayer",binder:"lightplayer",assets:["VSECommonComponentAssets","Brila"],features:{features:{placementcontext:"vse_ib_tablet_web"}}}}},addTag:function(a){u.ue&&u.ue.tag&&u.ue.tag(a)}}});"use strict";y.when("A","jQuery","imageBlockUtils","ImageBlockHeroUtils").register("ImageBlockHeroImageView",function(g,a,c,q){function m(d,e,k,g){if(!c.isjQueryObjDefined(d.find(".a-button-selected"))){var n=
G.getCurrentItem();if(!g||"chromeless-video"!==n.type||!A.autoplayVideo){g=0;if("hero-image"===n.type){g=t(n.color,n.variant);if(-1===g)return;g=-1!==g?g:0}var m=e+g;m>=k&&(g=0,m=e);e=q.getHeroImageHash(A,n.color,g);-1!==e&&(N.dispatch("updateModel",{data:{index:g,thumbnailIndex:m,variant:e.variant,type:"hero-image"}}),e=d.find(".item").get(m),c.selectGivenThumbnail(a(e),d))}}}function k(d,e,k){if("hero-video"===G.getCurrentItem().type)return d;e=A.heroImage&&A.heroImage[e];var g=d;c.isDefined(e)&&
(a.each(e,function(a,e){d<A.maxAlts&&(c.createThumbnail({type:"hero-image",index:a,thumbnailIndex:d,variant:e.variant},e.thumb,L,"imageThumbnail"),d++)}),m(L,g,d,k));return d}function t(d,e){var k=A.heroImage;if(1>k.length||!c.isDefined(k[d])||!c.isDefined(e))return-1;var g=-1;a.each(k[d],function(a,c){c.variant===e&&(g=a)});return g}function e(){if(K.length&&A.repositionHeroImage){var a=q.getHeroDimParams(A,G.getCurrentItem()),d;c.isDefined(a)&&(d=c.isDefined(a.xPos)?a.xPos+"px "+a.yPos+"px ":"center "+
a.yPos+"px ",K.css({"background-position":d,"background-size":a.width+"px "+a.height+"px ","max-width":a.width+"px ","min-height":a.height+"px ",filter:"","-ms-filter":""}))}}function n(a,d,e,k){if(K.length&&a&&d){if("function"===typeof e||k){var g=new Image;g.onload=k?function(){K.css("background-image",'url("'+a+'")')}:e;g.src=a}e=d[1];var g=d[0],t;k||K.css({"background-image":'url("'+a+'")'});A.repositionHeroImage&&(d=q.getHeroDimParams(A,G.getCurrentItem(),d),c.isDefined(d)&&(e=d.width,g=d.height,
t=c.isDefined(d.xPos)?d.xPos+"px "+d.yPos+"px ":"center "+d.yPos+"px "));K.css({"background-position":t,"background-size":e+"px "+g+"px ","max-width":e+"px ","min-height":g+"px ",filter:"","-ms-filter":""})}}function F(c,d,e,k){c=q.getHeroImageHash(A,c,d);if(-1===c)return-1;d=a.map(c.main,function(a,c){return c})[0];n(d,c.main[d],e,k)}function C(a,c,d){if("hero-image"!==a.type)return-1;var e=t(a.color,G.getCurrentItem().variant),e=-1!==e?e:0;if(-1===q.getHeroImageHash(A,a.color,e))return-1;var k=
G.getCurrentItem();a.thumbnailIndex=k.thumbnailIndex;a.type=k.type;a.variant=k.variant;a.index=e;u(a,c,d)}function u(a,c,e){var k=q.getHeroImageHash(A,a.color,a.index),t;t=a&&d&&g.equals(a,d)?!0:!1;d||(d=a);if(!t&&a||c)F(a.color,a.index,c,e),d=a;K.removeClass("hide-background");g.trigger("dp:image-block:update",k)}var y,A,G,N,L,K,d={};return function(d,g,t,n){y=this;A=d;G=g;N=n;A.heroImage[A.landingAsinColor]=A.heroImage[A.defaultColor];y.render=function(c,d,e,g,f,b,h){L=g;K=a("#heroImage");c=k(d,
c,b);C(G.getCurrentItem(),h,b);return c};y.update=function(a){var d=a.data;"ingress"!==d.type&&K.addClass("hide-background");"swatchHover"===a.type?a.captured||(d.type=G.getCurrentItem().type,-1!==C(d)&&(a.captured=!0)):"hero-image"===d.type&&(u(d),"click"!==a.type&&A.usePeekHover||c.selectGivenThumbnail(a.$declarativeParent,L))};N.register("resize",e)}});"use strict";y.when("A","jQuery","imageBlockUtils").register("ImageBlockAltImageIngressView",function(g,a,c){var q,m,k,t;return function(a,n,F,
u){q=this;m=a;k=u;q.render=function(a,e,k,n,F,u,C){t=n;q=this;k=m.maxAlts;n=e;F=m.colorImages[a]?m.colorImages[a].length:0;F+=c.getVideosCount(a,m);a=m.heroImage[a];u=0;a&&(u=a.length);a=F+u;a>k&&(k=a-k,a=t.find(".altIngressTemplate").clone().removeClass("altIngressTemplate").removeClass("aok-hidden").addClass("item"),k+="+",n={type:"ingress",index:0,thumbnailIndex:e,variant:""},a.find("#altIngressText").append(k),g.declarative.create(a,"thumb-action",n),t.append(a),n=e++);return n};q.update=function(a){"ingress"===
a.data.type&&"click"===a.type&&k.dispatch("imageClick",a)}}});"use strict";y.when("imageBlockUtils").register("ImageBlockState",function(g){return function(a,c,q){this.getImageHash=function(c){var k=q.getCurrentItem();c=g.getIndexForVariant(k.color,c||"MAIN",a);return g.getImageHash(k.color,c,a)};this.onImageUpdateForTwister=function(a){c.register("updateSelection",function(c){"swatchClick"===c.type&&"function"===typeof a&&a()})}}});"use strict";y.when("jQuery","imageBlockUtils").register("ImageBlockHeroUtils",
function(g,a){function c(a,c){var e;if(c.repositionHeroImage){e=a[1];var g=a[0];if(768>=(u.innerHeight||document.documentElement.clientHeight||document.body.clientHeight))e*=.7,g*=.7;else{var m=((u.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)-1024)/256,m=Math.max(Math.min(m,1),0);e*=.7+.3*m;g*=.7+.3*m}e=[e,g]}return e}function q(c,g,e){var n;if(e.repositionHeroImage){var m=u.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;e=e.heroFocalPoint;
if(a.isDefined(e)){n=Math.max((m-Math.min(1500,c))/2,0);var q=Math.max((m-c)/2,0);n-=q;m=Math.max(Math.min(m,1500),1024);n=n+(m-420-23)/2-c/g[1]*e}}return n}function m(c,t,e){c=c.heroImage;return!(a.isDefined(c)&&a.isDefined(c[t])&&a.isDefined(c[t][e])&&a.isDefined(c[t][e].main))||1>g.map(c[t][e].main,function(a,c){return c}).length?-1:c[t][e]}return{getHeroImageHash:m,getHeroDimParams:function(k,t,e){if(k.repositionHeroImage){if(!a.isDefined(e)){e=m(k,t.color,t.index);if(-1===e)return;t=g.map(e.main,
function(a,c){return c})[0];e=e.main[t]}t=c(e,k);k=q(t[0],e,k);return{height:t[1],width:t[0],xPos:k,yPos:75}}}}});"use strict";y.when("A","jQuery","imageBlockUtils").register("imageBlockImmersiveViewUtils",function(g,a,c){function q(a,t){var e=g.copy(a);if(c.isDefined(a)&&a.length>t){try{for(var n=-1,m=0;m<a.length;m++){var q=a.charAt(m);if(" "===q||"."===q||"?"===q||";"===q||","===q||":"===q)n=m;if(m===t-4){e=a.substring(0,-1===n?m:n);break}}}catch(u){e=a.substring(0,t-3)}e+="..."}return e}function m(a,
c){var e=a.lastIndexOf(".");return a="_"===a.charAt(e-1)?a.substring(0,e-1)+c+a.substring(e):a.substring(0,e)+"."+c+a.substring(e)}return{getDimension:function(a,c){var e=parseInt(a.css(c),10);return isNaN(e)?0:e},attachTabSelectHandler:function(a,c){g.on("dp:ivTabs:"+a+":select",c)},attachTabDeselectHandler:function(a,c){g.on("dp:ivTabs:"+a+":deselect",c)},attachImmersiveViewResizeHandler:function(a){g.on("dp:image-block:immersive-view:resize",a)},detachImmersiveViewResizeHandler:function(a){g.off("dp:image-block:immersive-view:resize",
a)},attachImmersiveViewResetHandler:function(a){g.on("a:popover:afterHide:immersiveView",a)},hideTabHeading:function(c){a("#"+c).hide()},unhideTabHeading:function(c){a("#"+c).show()},addStyleCodeToURL:m,getResizedThumbnailURL:function(a,c){a=a.replace(/\._(AA|SS)\d+_/,"").replace(/\._SX\d+_SY\d+_CR,0,0,\d+,\d+_/,"");a=a.replace(/\._(US)\d+_/,"").replace(/\._SR\d+,\d+_/,"").replace(/\._SP[0-9,C]+_/,"");a=a.replace(/\._CB\d+_SS\d+_/,"");var e="_AA50_";c&&(e+="FMpng_RI_");return m(a,e)},populateVariationSelection:function(k){if(c.isDefined(u.DetailPage)&&
c.isDefined(u.DetailPage.StateController)){k.empty();var g=u.DetailPage.StateController.getState(),e=g.variation_label_order,n;for(n in e)if(e.hasOwnProperty(n)){var m=e[n],q=g.selected_variations[m],m=g.variation_display_labels[m];q&&a("\x3cdiv/\x3e").addClass("ivVariations").text(m+":"+q).appendTo(k)}}},populateTitle:function(a,c,e){a.html(e.title);a.attr("title",a.text());a.html(q(e.title,c))},animateStageIn:function(a){a.animate({opacity:1},200)},animateStageOut:function(a,c){a.animate({opacity:.4},
100,c)},logError:function(a,c,e,g){u.ueLogError&&u.ueLogError(g,{logLevel:a,attribution:c,message:e})}}});"use strict";y.when("A","jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils").register("ImageBlockImmersiveViewImages",function(g,a,c,q,m){function k(){m.populateTitle(l.find("#ivTitle"),160,z)}function t(){var a=p.getCurrentItem().color;x=z.colorImages[a];r=z.heroImage[a];E=J=0;c.isDefined(r)&&(E=r.length);c.isDefined(x)&&(J=x.length)}function e(a){return a.hiRes||a.large||
a.main[a.main.length-1]}function n(){var a=l.find("#ivStage").find("#ivLargeImage"),b=a.width(),c=a.height(),d=a.find(".fullscreen");d.removeAttr("style");var e=d.width(),g=d.height();0<d.length&&(d[0].naturalWidth&&(e=d[0].naturalWidth),d[0].naturalHeight&&(g=d[0].naturalHeight));a.css("cursor","auto");var e=0===e?1:e,g=0===g?1:g,k=Math.min(b/e,c/g),p=g*k,n=e*k;1>k?(f?a.css("cursor","url('"+z.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor",
"zoom-in")),B=!0):B=!1;e=Math.min(n,e);g=Math.min(p-20,g);d.css({"margin-top":(c-g)/2,"margin-left":(b-e)/2,height:g,width:e});a.css("visibility","visible");h=!1}function u(a){var b=l.find("#ivLargeImage");b.css("visibility","hidden");b.empty();m.animateStageIn(b);b.append(a);n()}function C(b){l.find("#ivLargeImage").css("display","none");l.find("#ivLargeImage").css("display","block");var d;"hero-image"===b?c.isDefined(r)&&(d=e(r[v.index])):c.isDefined(x)&&(d=e(x[v.index]));if(c.isDefined(d)){l.find(".fullscreen").remove();
var f=a("\x3cimg\x3e").attr("src",d).addClass("fullscreen"),h=l.find("#ivLargeImage");m.animateStageOut(h,function(){f.load(function(){u(f)});if(f[0].complete)u(f);else{h.empty();var b=(h.height()-104)/2,c=(h.width()-80)/2;a("\x3cimg\x3e").attr("src",z.staticImages.spinner).css({position:"relative",top:b+"px",left:c+"px"}).appendTo(h)}})}}function y(a){l.find(".ivThumb").removeClass("selected");a.addClass("selected");a.hasClass("ivHeroImage")?v.type="hero-image":v.type="image";v.index=a.attr("id").split("_")[1];
C(v.type);q.postCountMetric("dpcc_iv_thumbCLick_"+(parseInt(v.index,10)+1)+"_"+(E+J))}function O(){l.delegate(".ivThumb","click",function(){var b=a(this);y(b)})}function A(a,b){return 0<b?b/2:Math.min(0,Math.max(b,a))}function G(a){var b=P.top-(a.pageY-R[1])*Q;a=A(P.left-(a.pageX-R[0])*Q,I.left);b=A(b,I.top);l.find(".fullscreen").css({left:a,top:b})}function N(){l.delegate("#ivLargeImage","click",function(a){if(h)n();else if(B){l.find(".fullscreen").removeAttr("style");if(B){var b=l.find("#ivLargeImage"),
c=b.find(".fullscreen");f?b.css("cursor","url('"+z.staticImages.zoomOut+"'), auto"):(b.css("cursor","-webkit-zoom-out"),b.css("cursor","-moz-zoom-out"),b.css("cursor","zoom-out"));h=!0;var d=l.find("#ivLargeImage");I.left=d.width()-c.width();I.top=d.height()-c.height();var d=b.height()/2,e=b.width()/2;R=[b.offset().left+e,b.offset().top+d];P.top=d-c.height()/2;P.left=e-c.width()/2;c.css({position:"relative",left:P.left,top:P.top});Q=Math.max(c.height()/b.height(),c.width()/b.width())}G(a);q.postCountMetric("dpcc_iv_largeImageCLick")}});
l.delegate("#ivLargeImage","mousemove",function(a){h&&G(a)})}function L(){l.find("#ivLargeImage").empty()}function K(d){if(b){l=a("#ivMain");t();v=p.getCurrentItem();k();m.populateVariationSelection(l.find("#ivVariationSelection"));d=l.find("#ivThumbs");d.find(".ivRow").not(".placeholder").remove();for(var f=E+J,e=0,h=0;e<f;)for(var g=d.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(d),n=0;4>n&&e<f;n++,e++,h++)if(h<E){var q=r[e].thumb,z=d.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr("id",
"ivHeroImage_"+e).appendTo(g);z.find(".ivThumbImage").css("background",'url("'+m.getResizedThumbnailURL(q)+'") center no-repeat')}else h>=E&&h<J+E&&(q=x[e-E].thumb,z=d.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr("id","ivImage_"+(e-E)).appendTo(g),z.find(".ivThumbImage").css("background",'url("'+m.getResizedThumbnailURL(q)+'") center no-repeat'));S();b=!1}else k();d=a("#ivImagesTab").height();l.css("height",d);f=l.find("#ivTitle").outerHeight(!0);e=l.find("#ivVariationSelection").outerHeight(!0);
h=l.find("#ivThumbs");g=m.getDimension(h,"margin-top")+m.getDimension(h,"margin-bottom");h.css("height",d-f-e-g);l.find("#ivLargeImage").css("height",d);d=l.find("#ivStage");f=l[0]&&l[0].getBoundingClientRect&&Math.floor(l[0].getBoundingClientRect().width)||l.width();d.css("width",f-m.getDimension(l,"padding-left")-m.getDimension(l,"padding-right")-l.find("#ivThumbColumn").width()-m.getDimension(d,"margin-left")-m.getDimension(d,"margin-right"));v=p.getCurrentItem();d="hero-image"===v.type?l.find("#ivHeroImage_"+
v.index):"image"===v.type?l.find("#ivImage_"+v.index):c.isDefined(r)?l.find("#ivHeroImage_"+v.index):l.find("#ivImage_"+v.index);c.isjQueryObjDefined(d)||(d=l.find("#ivImage_0"));y(d)}var d,z,p,l,r,x,E,J,v,f=navigator.userAgent.match(/msie|trident/i),b=!0,h=!1,B=!1,I={},P={},Q,R,b=!0,S=g.once(function(){O();N();m.attachImmersiveViewResizeHandler(K);m.attachTabDeselectHandler("ivImagesTab",L)});return function(c,f,e,h){d=this;z=c;p=f;d.render=function(c,d,f,e,h,g){b=!0;t();0===E+J?m.hideTabHeading("ivImagesTabHeading"):
m.unhideTabHeading("ivImagesTabHeading");1===E+J?a("#ivThumbs").hide():a("#ivThumbs").show()};d.update=function(a){};m.attachTabSelectHandler("ivImagesTab",K)}});"use strict";y.when("A","jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils","vse_ns_preLoaderHook","vse_ns_lazyLoaderHook").register("ImageBlockImmersiveViewVideos",function(g,a,c,q,m,k,t){function e(){x.delegate(".ivThumb","click",function(){var b=a(this);x.find(".ivThumb").removeClass("selected");b.addClass("selected");
b.hasClass("ivThumbVideo")&&(E.type="chromeful-video",E.index=b.attr("id").split("_")[1])})}function n(){if(Y){var b=a("#ivVideosTab").height();x.css("height",b);var c=x.find(".vse-lb-container");J=b-m.getDimension(c,"padding-top")-m.getDimension(c,"padding-bottom");c.css({"max-height":b,overflow:"hidden"});if(S){x.css({"max-width":Math.floor(1.77*J)});return}var b=x.find(".vse-player-container"),c=x.find(".vse-video-action-strip"),d=x.find(".vse-lb-video-metadata"),f=Math.floor(J-m.getDimension(d,
"height")-m.getDimension(c,"height")),e=Math.floor(1.77*f);b.css({"max-height":f,"max-width":e,marginLeft:"auto",marginRight:"auto"});d.css({"max-width":e,marginLeft:"auto",marginRight:"auto"});c.css({"max-width":e,marginLeft:"auto",marginRight:"auto"})}fa&&(b=x.find(".vse-vertical-scroll"),c=m.getDimension(b,"margin-top")+m.getDimension(b,"margin-bottom"),b.css("max-height",J-c))}function y(){C();v&&v.pause();U=!1;Q=!0;B=null;W=!0;Y=!1}function C(){U=!1;v&&v.pause()}function H(b){B=b.clickTimeStamp?
b.clickTimeStamp:g.now();c.isDefined(r)&&(r.eventTimestamp=B);R&&(t.get(g,"#ivVideoBlock",l,ca,ba),x=a("#ivVideoBlock"),p.getCurrentItem(),E=p.getCurrentItem(),ea());n();U=!0;R=!1;G()}function O(b){R&&(x=a("#ivVideoBlock"),p.getCurrentItem(),E=p.getCurrentItem(),ea());U&&G();n()}function A(a){v=a.player;Y&&(K(),G())}function G(){if(v&&U&&(x.find(".vse-lb-container").animate({opacity:1},200),v.play(r),q.postCountMetric("dpcc_vse_videoBlock_video_played"),Q)){var a=u.ue;a&&(a=a.count("dpcc_vse_videoingressclick"),
a=(new Date).getTime()-a,q.postTimeMetric("dpcc_vse_vitff",a),Q=!1)}}function N(){g.trigger("vse:detailpage-imageblock:page:lightBoxClosed")}function L(a){f=a.popover.$popover;Y=!0;K()}function K(){Y&&W&&U&&v&&(f.addClass(g.$(f).find(".vse-lb-container").data("cssClass")),g.trigger("vse:detailpage-imageblock:page:lightBoxOpened",{lightBoxId:"ivVideoBlock",assetSpec:r}),n(),W=!1)}var d,z,p,l,r,x,E,J,v,f,b,h,B,I,P,Q=!0,R=!0,S=!1,fa=!1,U=!1,W=!0,Y=!1,ea=g.once(function(){e();m.attachImmersiveViewResizeHandler(O);
m.attachTabDeselectHandler("ivVideosTab",C);m.attachImmersiveViewResetHandler(y)}),ga=function(b,d,f){a("#ivVideoBlockSpinner").addClass("aok-hidden");q.postCountMetric("dpcc_vse_videoBlock_preload_failed_"+d.placement);b=p.getCurrentItem().color;b=c.getVideoHash(b,0,z);v||(v=c.createAiryInstanceForChromeful(a("#ivVideoBlock"),b,z.airyConfig,"ImmersiveView"));S=!0;a("#ivVideoBlock").css({"max-width":1.77*J,margin:"0 auto"});U&&S&&v.play({isAsync:!0})},ia=function(b,c,d){R||t.get(b,"#ivVideoBlock",
l,ca,ba);a("#ivVideoBlockSpinner").addClass("aok-hidden")},ca=function(a,b,c){fa=!0;n()},ba=function(a,b,c){q.postCountMetric("dpcc_vse_videoBlock_lazyload_failed_"+b.pageContext.placement+"_"+b.configuration.type)};return function(a,f,e,n){d=this;z=a;p=f;d.render=function(a,d,f,e,n,q){a=p.getCurrentItem().color;d=c.getVideoHash(a,0,z);!0===q?b=z.mediaAsin:(b=z.colorToAsin[a]&&z.colorToAsin[a].asin,b=c.isDefined(b)?b:z.mediaAsin);h=null!==z.vseVideoDataSourceTreatment&&"T1"===z.vseVideoDataSourceTreatment?
"ASIN":"physicalID";I=z.contentWeblab;P=z.contentWeblabTreatment;R=!0;-1===d?m.hideTabHeading("ivVideosTabHeading"):(m.unhideTabHeading("ivVideosTabHeading"),l={page:"DetailPage",placement:"ImageBlock",device:"Desktop",marketplaceID:d.marketPlaceID,locale:d.languageCode,product:{contentID:b,contentIDType:"ASIN"},video:{contentID:d.mediaObjectId,contentIDType:h,videoURL:d.url,imageURL:d.slateUrl},requestId:z.dpRequestId,weblabContext:[{name:I,assignment:P,ignoreForG2S2Key:!0}],metadata:{ProductTitle:z.title}},
r={videoUrl:l.video.videoURL,contentId:l.video.contentID,duration:0,vendorCode:"",eventTimestamp:c.isDefined(B)?B:g.now(),imageUrl:l.video.imageURL,productAsin:l.product.contentID,index:0},c.isDefinedAndNotEmpty(v)&&(v.destroy(),v=null),k.get(g,"#ivVideoBlock",l,ia,ga))};d.update=function(a){};m.attachTabSelectHandler("ivVideosTab",H);g.on("vsePlayer-detailpage-imageblock",A);g.on("a:popover:afterShow:immersiveView",L);g.on("a:popover:beforeHide:immersiveView",N)}});"use strict";y.when("A","jQuery",
"imageBlockUtils","ImageBlockLoader","nexusLogger360","postMetric","imageBlockImmersiveViewUtils").register("ImageBlockImmersiveView360",function(g,a,c,q,m,k,t){function e(){var b=a("#iv360Tab").height();B.css("height",b);var c=B.find("#ivTitle360").outerHeight(!0),d=B.find("#ivVariationSelection360").outerHeight(!0),f=B.find("#ivThumbs360"),e=t.getDimension(f,"margin-top")+t.getDimension(f,"margin-bottom");f.css("height",b-c-d-e);b=B.find("#ivStage360");c=B[0]&&B[0].getBoundingClientRect&&Math.floor(B[0].getBoundingClientRect().width)||
B.width();b.css("width",c-t.getDimension(B,"padding-left")-t.getDimension(B,"padding-right")-B.find("#ivThumbColumn360").width()-t.getDimension(b,"margin-left")-t.getDimension(b,"margin-right"))}function n(){O();var a=B.find("#ivLarge360");a.css({opacity:0});setTimeout(function(){a.css({opacity:.4});t.animateStageIn(a)},200);u()}function u(){if(0<V){var a=B.find(".iv360Hint");a.removeClass("iv360HintFaded");a.animate({opacity:1},200)}}function y(c,d){if(V<c.length){var f=a("\x3cimg /\x3e").css({display:"block",
width:6*P+"px",height:Q+"px"});f.hide();d.append(f);f.get(0).onload=function(){d.closest(document.documentElement).length&&(V++,1===V&&(u(),0<ia&&(m.time("dppc_loadTime360",Date.now()-ia,b.mediaAsin),k.postTimeMetric("dppc_loadTime360",Date.now()-ia))),0<ca&&(m.time("dppc_perSpriteloadTime360",Date.now()-ca,b.mediaAsin),k.postTimeMetric("dppc_perSpriteloadTime360",Date.now()-ca)),B.find("#iv360Spinner").hide(),f.show(),ea=5*I.imageLocations[Math.floor(ga/I.imageLocations[0].length)][ga%I.imageLocations[0].length],
y(c,d))};f.attr("src",c[V].replace(/(\._SP)\d+(,)\d+/,"$1"+S+"$2"+R));ca=Date.now()}}function H(a){if(c.isDefined(I.spriteWidthSizes)&&0<I.spriteWidthSizes.length){var b=I.spriteWidthSizes,d=b.length,f=b[0],e=b[d-1];if(a<=f)return f;if(a>e)return e;for(f=0;f<d;f++)if(a>b[f]&&a<=b[f+1])return b[f+1]}else return a}function O(){var c=B.find("#ivLarge360");c.children("#image-360-sprites").length||(c.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),c.css({"margin-left":0,"margin-top":0,width:c.parent().width(),
height:c.parent().height(),overflow:"hidden",position:"relative","-ms-user-select":"none","-webkit-user-select":"none","-mos-user-select":"none"}),a("\x3cimg\x3e").attr("src",b.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"block"}).appendTo(c),W=!0,A())}function A(){if(c.isDefined(I.spriteURLs)&&c.isDefined(B)&&W&&!Y){var f=B.find("#ivLarge360"),e=a("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",
width:"100%",bottom:0,opacity:0,display:"block"});c.isDefined(I.staticImages.hint360)&&a("\x3cimg\x3e").css({"margin-left":"auto","margin-right":"auto",display:"block"}).attr("src",I.staticImages.hint360).appendTo(e);a("\x3cdiv\x3e").css({"text-align":"center"}).text(b.staticStrings.dragToSpin).appendTo(e);e.appendTo(f);var e=I.imageWidth,h=I.imageHeight,g=f.parent().width(),k=f.parent().height(),l=0,n=0;e/h>g/k?(S=H(g),R=Math.round(h/e*S),P=Math.ceil(g),Q=Math.ceil(R/S*g),n=(k-Q)/2):(R=H(k),S=Math.round(e/
h*R),Q=Math.ceil(k),P=Math.ceil(S/R*k),l=(g-P)/2);f.css({"margin-left":l,"margin-top":n,width:P+"px",height:Q+"px",overflow:"hidden",position:"relative"});f.children("#image-360-sprites").css("width",6*P+"px");y(I.spriteURLs,B.find("#image-360-sprites"),0);e=B.find("#ivLarge360");e.bind("mousedown",K);e.bind("touchstart",G);e.bind("touchmove",N);e.bind("touchend",L);a(document).bind("mousemove",d);a(document).bind("mouseup",z);c.isDefined(b.staticImages.grab)&&f.css("cursor","url('"+b.staticImages.grab+
"'), auto");Y=!0}}function G(a){D=!0;U=a.originalEvent.targetTouches[0].clientX}function N(a){D&&(p(a.originalEvent.targetTouches[0].clientX-U),U=a.originalEvent.targetTouches[0].clientX)}function L(a){D&&(D=!1)}function K(a){ba=!0;fa=a.originalEvent.clientX;c.isDefined(b.staticImages.grabbing)&&(a=B.find("#ivLarge360"),a.css("cursor","url('"+b.staticImages.grabbing+"'), auto"),a.parents(".a-declarative").last().css("cursor","url('"+b.staticImages.grabbing+"'), auto"));return!1}function d(a){ba&&
(p(a.originalEvent.clientX-fa),fa=a.originalEvent.clientX)}function z(a){ba&&(ba=!1,c.isDefined(b.staticImages.grab)&&(a=B.find("#ivLarge360"),a.css("cursor","url('"+b.staticImages.grab+"'), auto"),a.parents(".a-declarative").last().css("cursor","auto")))}function p(a){ea-=a/P*180;X&&(m.count("dppc_360dragToSpin",b.mediaAsin),k.postCountMetric("dppc_360dragToSpin"));X=!1;for(a=ea;0>a;)a+=360;for(;360<a;)a-=360;ea=a;var d;a=360;for(var f=0;f<V;f++)for(var e=0;e<I.imageLocations[f].length;e++){var h=
Math.abs(ea-5*I.imageLocations[f][e]);h<a&&(a=h,d=f*I.imageLocations[0].length+e)}d!==ga&&(a=Math.floor(d/I.imageLocations[0].length),a!==Math.floor(ga/I.imageLocations[0].length)&&(c.isDefined(ka)||(ka=document.createElement("canvas").getContext("2d")),f=B.find("#image-360-sprites").children(),ka.drawImage(f[a],0,0)),a=B.find(".iv360Hint").not(".iv360HintFaded"),c.isDefined(a)&&(a.addClass("iv360HintFaded"),a.animate({opacity:0},750)));ga=d;a=d%I.imageLocations[0].length*-1*P;d=-1*Math.floor(d/I.imageLocations[0].length)*
Q;f=B.find("#ivLarge360").children("#image-360-sprites");f.css("-webkit-transform","translate3d("+a+"px, "+d+"px, 0)");f.css("transform","translate3d("+a+"px, "+d+"px, 0)")}function l(){if(ha){B=a("#ivMain360");var c=h.getCurrentItem().color;E()&&J(c);I=E()?b.spin360ColorData[c]:void 0;t.populateTitle(B.find("#ivTitle360"),160,b);t.populateVariationSelection(B.find("#ivVariationSelection360"));B.find("#ivLarge360").empty();V=0;Y=W=!1;ga=ea=0;la();ha=!1}0!==a("#iv360Tab").height()&&(t.detachImmersiveViewResizeHandler(l),
e(),n(),ia=Date.now(),w=X=!0,m.count("dppc_click360",b.mediaAsin),k.postCountMetric("dppc_click360"))}function r(d,f,e){var g=b.colorToAsin[e],l={},n=500;if(!g||!g.asin)if(e===b.defaultColor)g={asin:b.winningAsin};else return;l.params={asin:g.asin};var p="360"+g.asin,r=Date.now();l.success=function(g){m.time("dppc_asyncRequestTime360",Date.now()-r,b.mediaAsin);k.postTimeMetric("dppc_asyncRequestTime360",Date.now()-r);if(g&&c.isDefined(g.spin360)){if(g=g.spin360.spin360Model)b.spin360ColorData[e]=
g,e===h.getCurrentItem().color&&(I=b.spin360ColorData[e],A(),a("#ivThumbs360").hide(),t.unhideTabHeading("iv360TabHeading"),x(d,f,e));c.ajaxState(p,"success")}else l.error()};l.error=function(){m.count("dppc_asyncFailedTransient360",b.mediaAsin);k.postCountMetric("dppc_asyncFailedTransient360");m.time("dppc_asyncRequestTime360",Date.now()-r,b.mediaAsin);k.postTimeMetric("dppc_asyncRequestTime360",Date.now()-r);n*=2;16E3>=n?setTimeout(function(){r=Date.now();q.load("/gp/product/features/apparel-main-image/360.html",
l)},n):(m.count("dppc_asyncFailed360",b.mediaAsin),k.postCountMetric("dppc_asyncFailed360"),c.ajaxState(p,"fail"))};c.ajaxState(p)&&"fail"!==c.ajaxState(p)||(q.load("/gp/product/features/apparel-main-image/360.html",l),c.ajaxState(p,"sent"))}function x(a,d,f){if(c.isImmersiveViewEnabled(b,h.getCurrentItem().color)&&E()&&J(f)){if(d===b.maxAlts){f=a.find(".item.imageThumbnail");var e=a.find(".item.videoThumbnail");c.isDefined(e)&&1<e.length?e.last().remove():f.last().remove();d--}f=a.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item");
g.declarative.create(f,"button-360-click");a.append(f);d++;m.count("dppc_display360",b.mediaAsin);k.postCountMetric("dppc_display360")}return d}function E(){return b&&c.isDefined(b.spin360ConfigEnabled)&&b.spin360ConfigEnabled}function J(a){return c.isDefinedAndNotEmpty(b.spin360ColorData[a])?!0:c.isDefined(b.spin360LazyLoadEnabled)&&b.spin360LazyLoadEnabled}function v(){w&&(m.time("dppc_duration360",Date.now()-ia,b.mediaAsin),k.postTimeMetric("dppc_duration360",Date.now()-ia),w=!1)}var f,b,h,B,I,
P,Q,R,S,fa,U,W=!1,Y=!1,ea=0,ga=0,ia=0,ca=0,ba=!1,D=!1,V=0,ka,X=!0,w=!1,ha=!0,la=g.once(function(){t.attachImmersiveViewResizeHandler(l);t.attachImmersiveViewResizeHandler(e);t.attachImmersiveViewResetHandler(v);t.attachTabDeselectHandler("iv360Tab",v)});return function(d,e,g,k){f=this;b=d;h=e;d=b.landingAsinColor;e=b.defaultColor;c.isDefined(b.staticImages.icon360)&&a("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",t.addStyleCodeToURL(b.staticImages.icon360,"_FMpng_RI_"));
E()&&(b.spin360ColorData||(b.spin360ColorData={}),d===e&&c.isDefinedAndEmpty(b.spin360ColorData[e])&&delete b.spin360ColorData[e]);f.render=function(d,f,e,h,g,k){ha=!0;E()&&J(d)?(e=b.spin360ColorData[d],c.isDefinedAndEmpty(e)?t.hideTabHeading("iv360TabHeading"):c.isDefinedAndNotEmpty(e)?(a("#ivThumbs360").hide(),t.unhideTabHeading("iv360TabHeading"),x(h,f,d)):(b.spin360ColorData[d]={},t.hideTabHeading("iv360TabHeading"),r(h,f,d))):t.hideTabHeading("iv360TabHeading")};f.update=function(a){};t.attachTabSelectHandler("iv360Tab",
l)}});y.register("nexusLogger360",function(){return{count:function(g,a){u.ue&&u.ue.event({asin:a,metricName:g,metricValue:1},"hit-360","hit360.clientEvent.3")},time:function(g,a,c){u.ue&&u.ue.event({asin:c,metricName:g,metricValue:a},"hit-360","hit360.clientEvent.3")}}});"use strict";y.when("postMetric","imageBlockImmersiveViewUtils").execute("vse-ns-ajax-calls",function(g,a){try{var c=u.location.host,q={dub:"https://www.amazon.co.uk/vap/ew/",pdx:"https://www.amazon.co.jp/vap/ew/"},m=c.split(".")[1],
k=-1===c.indexOf(".proxy.amazon.com")?"/vap/ew/":void 0!==q[m]?q[m]:"https://www.amazon.com/vap/ew/",t="vse_lazyLoaderHook:success:",e="vse_lazyLoaderHook:error:",n="vse_preLoaderHook:success:",F="vse_preLoaderHook:error:",C="vse_lightPlayerLoaderHook:success:",H="vse_lightPlayerLoaderHook:error:",O=4E3,A=3}catch(G){a.logError("FATAL","vse_ns_desktop","[Domain] ",G)}y.register("vse_ns_preLoaderHook",function(){function c(e,m){try{var d=e.A,q=e.block,p=e.request,l=e.handleFailure,r=e.handleSuccess,
t=d.$;m--;var u=A-m-1,y=d.now();d.ajax(k+"componentbuilder",{params:p,paramsFormat:"json",crossDomain:!0,method:"post",contentType:"application/json",timeout:p.timeout||O,withCredentials:!0,success:function(a){var b=d.now()-y;g.postTimeMetric(n,b);g.postCountMetric(n+p.page+":"+p.placement+":"+u);t(q).html(a);r(d,p,a)},error:function(a){g.postCountMetric(F+p.page+":"+p.placement+":"+u);(0===a.http.status||500<=a.http.status&&599>=a.http.status)&&0<m?c(e,m):(g.postCountMetric(F,1),l(d,p,a))}})}catch(v){a.logError("FATAL",
"vse_ns_desktop","[vse_ns_preLoaderHook] ",v)}}return{get:function(a,e,d,g,k){c({A:a,block:e,request:d,handleFailure:k,handleSuccess:g},A)}}});y.register("vse_ns_lazyLoaderHook",function(){function c(n,m,d){try{var q=n.A,p=n.context,l=n.handleFailure,r=n.handleSuccess;m.attr("data-configuration");var u=atob(m.attr("data-configuration")),y=JSON.parse(u),C={pageContext:p,configuration:y},v=q.now();d--;var f=A-d-1;q.ajax(k+"subcomponent/"+y.type,{params:C,paramsFormat:"json",method:"post",contentType:"application/json",
timeout:p.timeout||O,withCredentials:!0,success:function(a){var b=q.now()-v;g.postTimeMetric(t,b);g.postCountMetric(t+p.page+":"+p.placement+":"+y.type+":"+f);m.html(a);r(q,C,a)},error:function(a){g.postCountMetric(e+p.page+":"+p.placement+":"+y.type+":"+f);(0===a.http.status||500<=a.http.status&&599>=a.http.status)&&0<d?c(n,m,d):(g.postCountMetric(e,1),l(q,C,a))}})}catch(b){a.logError("FATAL","vse_ns_desktop","[vse_ns_lazyLoaderHook] ",b)}}return{get:function(a,e,d,g,k){var n=a.$;n(e+" div[data-configuration]").each(function(){c({A:a,
context:d,handleFailure:k,handleSuccess:g},n(this),A)})}}});y.register("vse_ns_videoPlayer",function(){function c(e,n,d){try{var m=e.A,p=e.block,l=e.request,q=e.handleFailure,t=e.handleSuccess,u=m.$;d--;var y=A-d-1,v=m.now();m.ajax(k+"subcomponent/lightvideoplayer",{params:l,paramsFormat:"json",crossDomain:!0,method:"post",contentType:"application/json",timeout:l.timeout||O,withCredentials:!0,success:function(a){var c=m.now()-v;g.postTimeMetric(C,c);g.postCountMetric(C+l.page+":"+l.placement+":"+
y);u(p).html(a);t(m,l,a)},error:function(a){g.postCountMetric(H+l.page+":"+l.placement+":"+y);(0===a.http.status||500<=a.http.status&&599>=a.http.status)&&0<d?c(e,d):(g.postCountMetric(H,1),q(m,l,a))}})}catch(f){a.logError("FATAL","vse_ns_lightPlayer","[vse_ns_lightPlayerLoaderHook] ",f)}}return{get:function(a,e,d,g,k){c({A:a,block:e,request:d,handleFailure:k,handleSuccess:g},A)}}})});"use strict";y.when("A","ImageBlockATF","ImageBlockBTF","imageBlockUtils","postMetric").execute(function(g,a,c,q,
m){var k=[0,50,100,500,1E3,2E3,3E3,3500];(function(){var a=c.colorImages,e=0,g;for(g in a)a[g]&&a[g].length&&(e+=a[g].length);a="image_size_bucket:gt"+k[k.length-1];for(g=1;g<k.length;g++)if(e<=k[g]){a="image_size_bucket:"+k[g-1]+"-"+k[g];break}m.postCountMetric(a);q.addTag(a)})();(function(){var c=a.colorImages;c&&c.initial&&c.initial.length&&(c=c.initial.length,u.ue&&ue.count&&ue.count("altImageCount",c))})();(function(){var a=c.lazyLoadExperienceDisabled;q.isDefined(c.lazyLoadExperienceDisabled)&&
!a&&(m.postCountMetric("lazyLoadingExperienceOnTwisterUpdateEnabled"),q.addTag("lazyLoadingExperienceOnTwisterUpdateEnabled"))})()})});